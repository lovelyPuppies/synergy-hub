# Differences Between Inner and Outer Documentation in Rust

ðŸ“… Written at 2024-12-01 02:03:58

In Rust, **inner documentation** and **outer documentation** differ based on their **purpose** and **application target**.
Inner documentation is used for **describing an entire module or file**, while outer documentation is used for **explaining individual code items** such as functions, structs, or enums.

---

## 1. Inner Documentation

Inner documentation provides descriptions of **an entire module or file**. It is written using **exclamation mark-prefixed comments** (`//!`, `/*! */`).

### Characteristics

- **Location**: At the **top of a module or file**.
- **Target**: The **entire module/file**.
- **Purpose**: To describe the **intent, role, and design philosophy** of the module or file.
- **Generated Documentation**: Appears as the **top-level description** of the module in documentation generated by `cargo doc`.

### Example

```rust
//! This module provides basic arithmetic operations.
//! It includes addition, subtraction, and multiplication functions.

/// Adds two numbers.
pub fn add(a: i32, b: i32) -> i32 {
    a + b
}

/// Subtracts two numbers.
pub fn subtract(a: i32, b: i32) -> i32 {
    a - b
}
```

### When to Use

- To provide a **high-level overview** of a module or file.
- To document the **purpose, design, or limitations** of a module.

---

## 2. Outer Documentation

Outer documentation provides explanations for **individual code items**, such as functions, structs, or enums. It is written using **triple-slash comments** (`///`) or block comments (`/** */`).

### Characteristics

- **Location**: Directly **above the item** being documented (e.g., function, struct, enum).
- **Target**: **Individual code elements**.
- **Purpose**: To describe **how to use a specific function, struct, or enum**.
- **Generated Documentation**: Appears as the **description for the item** in documentation generated by `cargo doc`.

### Example

````rust
/// Adds two numbers.
///
/// # Parameters
/// - `a`: The first number.
/// - `b`: The second number.
///
/// # Returns
/// The sum of `a` and `b`.
///
/// # Examples
/// ```
/// let result = add(2, 3);
/// assert_eq!(result, 5);
/// ```
pub fn add(a: i32, b: i32) -> i32 {
    a + b
}
````

### When to Use

- To document the **usage, parameters, return values, and examples** for a specific item.
- To provide clear guidance to developers on how to interact with a specific API.

---

## 3. Key Differences

| **Feature**        | **Inner Documentation** (`//!`, `/*! */`)            | **Outer Documentation** (`///`, `/** */`)                 |
| ------------------ | ---------------------------------------------------- | --------------------------------------------------------- |
| **Purpose**        | Describes **entire module/file**.                    | Explains **specific items** like functions, structs, etc. |
| **Target**         | **Module or file**.                                  | **Individual code elements**.                             |
| **Location**       | Top of a module/file.                                | Directly above the item being documented.                 |
| **Generated Docs** | Appears as the **module's overview** in `cargo doc`. | Appears as the **item's documentation** in `cargo doc`.   |

---

## 4. Using Both Together

It is common to use both inner and outer documentation in the same file. Inner documentation provides an **overview**, while outer documentation provides **details for each item**.

### Example

```rust
//! This module provides basic arithmetic operations.

/// Adds two numbers.
///
/// # Parameters
/// - `a`: The first number.
/// - `b`: The second number.
///
/// # Returns
/// The sum of `a` and `b`.
pub fn add(a: i32, b: i32) -> i32 {
    a + b
}

/// Subtracts two numbers.
///
/// # Parameters
/// - `a`: The first number.
/// - `b`: The second number.
///
/// # Returns
/// The difference between `a` and `b`.
pub fn subtract(a: i32, b: i32) -> i32 {
    a - b
}
```

---

## Summary

- **Inner documentation** (`//!`, `/*! */`) is for describing **modules or files**.
- **Outer documentation** (`///`, `/** */`) is for explaining **specific items** like functions, structs, or enums.

Use inner documentation for the **big picture** and outer documentation for the **details**.
