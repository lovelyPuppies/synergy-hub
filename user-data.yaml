#cloud-config
users:
  - default

  - name: ubuntu19
    gecos: wbfw109v2
    primary_group: ubuntu19
    groups: users, sudo
    lock_passwd: false
    shell: /bin/bash
    # no password required
    sudo: ["ALL=(ALL) NOPASSWD: ALL"]
    ssh-authorized-keys:
      - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQCXNes1OcHwVF+v3uJdIVPj5vgZ3aaMjuTisjGA6sKiFFf2BYYHDOosRWctKJ49ZomHY5OWekiRBz2gdjEC/O57tZm29UWbgyN+viz9aklGNyHvi5ZuzT4X5U4hvGtCOkBpCRetnJCnZWrzk88yZJBg3M+RkcCYl6u9pf+nIMGSQEqhCtMhUoMAmrfem8zWkc/01XD1QAmHFPTeQgZxiVa0H1N9w84YyirsC2J/NFOQWh6aIHRHhabHtTmsGCk/41QPQBerRwQv8MI6N7EohmrcHD4Ung7ckfukG/tD/kY4TPIxpA/9ug2F9PSekFo4bisnjqTfQh5iPzQiizC76KdtrfGiQJuc1zZJzDM7q8TYCG/zLSu7bJuJyhMQt71PHVGwvNdNUilF5G2fppB9Yv10IbY3UK0HWKFRqGeeMd+AWeCVgQjAWIMTFpB22R09VwWqokxTz0Lt7NZeQ4SE5HpUnTtUnH5uLg1CpgwY4Z3XpfTN/EujT7tuC3ORHI7WnxRX38VUGylb/WAu4KCLcVO9fJTGkhwo4f8d6xR2si9SHjK7jL8ghMurHiceTqeXnQQt76K/47K36/fupusY3ULZ5RlXrbAV6N05og5L1pqLPT0lkz+1DFMTAs7hfNB4pKYOfP58Dd+ReI2MbxnpkrBh8Lg96HmOD0tHWP5CDCS0ZQ== wbfw109v2@gmail.com

  - name: admin
    gecos: wbfw109v2
    primary_group: admin
    groups: admin, users
    lock_passwd: false
    # openssl passwd -6 admin
    passwd: $6$qYUOlf2vfzdo26Vs$9PW1h/8RVfS.nkJdqJYukxNyvAxW83MG0RsnKCQB9sORma3fXaKyrewqNVvqGueH3YfWTZuHbxoGelYdELaUR0
    shell: /bin/bash

final_message: "Cloud-init finished successfully"

# sudo su - ubuntu19 -s /bin/bash


# ğŸ“ Note that '#cloud-config' must be located at first line.
# https://cloudinit.readthedocs.io/en/21.4/topics/faq.html#cloud-localds
#   user-data.yaml
# # Set Passwords ; https://cloudinit.readthedocs.io/en/latest/reference/modules.html
# https://cloudinit.readthedocs.io/en/latest/reference/examples.html
# https://cloudinit.readthedocs.io/en/latest/reference/network-config-format-v2.html#network-config-v2

# ğŸ“° Reference
# Define initial user setup and network configuration
# The VM will have a static IP and configured network at boot
# network:
#   version: 2
#   ethernets:
#     enp0s2:  # VM ë‚´ë¶€ ì¸í„°í˜ì´ìŠ¤ ì´ë¦„ì— ë§ê²Œ ì‚¬ìš©
#       dhcp4: false
#       dhcp6: false
#       addresses: [10.10.14.39/24]
#       gateway4: 10.10.14.254
#       nameservers:
#         addresses: [203.248.252.2]
# if set these, the user can not login
#    lock_passwd: true
#    shell: /usr/sbin/nologin
## >>>>>>>>>> cloud-init clean && sudo reboot
## >>>>>>>>>>> cloud-init status
## The default password for the Ubuntu user created by cloud-init is locked. This is because the default /etc/cloud/cloud.cfg config uses cloud-init to create users, but locks the password. 
# https://github.com/canonical/cloud-init/issues/4946
# ë¹„ë°€ë²ˆí˜¸ê°€ ì ê²¨ ìˆë‹¤ëŠ” ê²ƒì€ ì‚¬ìš©ìê°€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì—¬ ë¡œê·¸ì¸ì„ ì‹œë„í•  ìˆ˜ ì—†ë‹¤ëŠ” ëœ»ì…ë‹ˆë‹¤. ì¦‰, í•´ë‹¹ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸í•˜ë ¤ê³  í•´ë„ ë¹„ë°€ë²ˆí˜¸ ì¸ì¦ì„ í†µí•´ ë¡œê·¸ì¸í•  ìˆ˜ ì—†ëŠ” ìƒíƒœì…ë‹ˆë‹¤.
# SSH í‚¤ ì‚¬ìš©: ê¸°ë³¸ì ìœ¼ë¡œ ë¹„ë°€ë²ˆí˜¸ê°€ ì ê¸´ ubuntu ê³„ì •ì€ SSH í‚¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¡œê·¸ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ SSH í´ë¼ì´ì–¸íŠ¸ë¥¼ í†µí•´ ê³µê°œ í‚¤ë¥¼ ì¶”ê°€í•˜ê³  í•´ë‹¹ í‚¤ë¡œ ì¸ì¦ë°›ì•„ì•¼ ë¡œê·¸ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
# ë¹„ë°€ë²ˆí˜¸ê°€ ì ê²¨ ìˆì–´ë„ SSH í‚¤ ì¸ì¦ì„ í†µí•´ ì ‘ì†ì´ ê°€ëŠ¥í•˜ë¯€ë¡œ, ì‚¬ìš©ì ê³„ì •ì˜ ë¹„ë°€ë²ˆí˜¸ë¥¼ ìŠì–´ë²„ë¦¬ê±°ë‚˜ ì„¤ì •í•˜ì§€ ì•Šë”ë¼ë„ ë¬¸ì œê°€ ë°œìƒí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

# General Electric Comprehensive Operating System (gecos)
# Change Finger (chfn)
# sudo chfn -f "wbfw109v2" ubuntu19 í•´ì„. 

