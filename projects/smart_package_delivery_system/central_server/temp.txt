
# export ROS_MASTER_URI=http://<Remote_PC_IP>:11311

# export ROS_HOSTNAME=<TurtleBot3_IP>

export TURTLEBOT3_MODEL=burger
roslaunch turtlebot3_bringup turtlebot3_robot.launch

í„°í‹€ë´‡ ì‚¬ìš©í•˜ë ¤ë©´?
sudo apt install ros-noetic-usb-cam
sudo apt install ros-noetic-cv-camera

rviz
Interact - Image - Image Topic - /cv_camera/image_raw
transport ihnt: raw

~/ros
~/slam.sh

sshpass -p turtlebot ssh ubuntu@10.10.14.119

. ì¹´ë©”ë¼ ë…¸ë“œ ì‹¤í–‰
ì¹´ë©”ë¼ ë°ì´í„°ë¥¼ í¼ë¸”ë¦¬ì‹œí•˜ëŠ” ROS ë…¸ë“œë¥¼ ì‹¤í–‰í•´ì•¼ í•©ë‹ˆë‹¤. ì•„ë˜ëŠ” USB ì¹´ë©”ë¼ë¥¼ ì‚¬ìš©í•˜ëŠ” ì˜ˆì œì…ë‹ˆë‹¤.

(1) usb_cam íŒ¨í‚¤ì§€ ì‹¤í–‰
ì¹´ë©”ë¼ ë…¸ë“œ ì‹¤í–‰:

roslaunch usb_cam usb_cam-test.launch

#

rostopic list

rosrun map_server map_saver -f ~/map

// í•˜ê³ ë‚˜ì„œ ì €ì¥í•˜ê¸°?
slam.sh
ê·¸ë‹¤ìŒ í‚¤ë³´ë“œë¡œ ì—°ê²°í•˜ê¸°

////////  
âš“ Navigation ; https://emanual.robotis.com/docs/en/platform/turtlebot3/navigation/#navigation
âš ï¸ ìœ„ì¹˜ êµì • ì´í›„ì—ëŠ” telepo ì•±ì„ ì¢…ë£Œí•´ì•¼ í•œë‹¤. ê°’ì„ ë˜ì €ì£¼ëŠ”ë° í”„ë¡œì„¸ì‹±ì„ í•˜ê¸° ë•Œë¬¸ì— ìì£¼ ë©ˆì¶”ê¸° ë–„ë¬¸.
2d Nav Goal; 2D Pose Estimate

1.  setup_xauthority.fish
2.  ssh -XY ubuntu@10.10.14.119

```bash
#!bin/bash
# in ubuntu@bot19:~$
echo $DISPLAY
# >> localhost:10.0
3. xeyes


docker ìš°ë¶„íˆ¬ ì»¨í…Œì´ë„ˆì—ì„œ ì¥ì¹˜ ê¶Œí•œ ëª¨ë‘ ì£¼ê³ , cheese ëª…ë ¹ì–´ë¥´ ì…ë ¥í•˜ë‹ˆê¹Œ ë‹¤ìŒê³¼ ê°™ì´ë‚˜ì™€.  wayland í˜¸í™˜ì´ì•ˆë˜ë‚˜? ë‚˜ëŠ” í˜¸ìŠ¤íŠ¸ì—ì„œ ì‚¬ìš©ì¤‘ì´ê³  host+local docker? ì¸ê°€ ê·¸ ëª…ë ¹ì–´ë„ ì»ì–´. ê·¸ë˜ì„œ xeyes ëŠ” ì˜ ë˜ëŠ”ë° .. (ë‚´ í˜¸ìŠ¤íŠ¸ëŠ” kubuntu 24.10) . cheese ë§Œ ì•ˆë˜ë„¤.
>> ë„ì»¤ ì•ˆì—ì„œ cheese ì™€ ê°™ì€ í˜¸ìŠ¤íŠ¸ì˜ ì¹´ë©”ë¼ë¥¼ ë„ìš°ëŠ” ê±´ ì•ˆë˜ëŠ” ê²ƒìœ¼ë¡œ ë³´ì„..?


vscode@iot-04 /workspace> xeyes^C
vscode@iot-04 /workspace> ls /dev/video0
/dev/video0



cheese requires
sudo apt-get update
sudo apt-get install dbus-x11




/////////
vscode@iot-04:/workspace$ apt-cache policy ros-noetic-desktop-full
ros-noetic-desktop-full:

rostopic echo /move_base/goal
```

https://emanual.robotis.com/docs/en/platform/turtlebot3/features/#features

Models: Items Burger ğŸ†š Waffle Pi

- Raspberry pi 3

https://emanual.robotis.com/docs/en/platform/turtlebot3/quick-start/

â”
Teleop, SLAM, Navigation,Simulation, Manipulation, Home Service Challenge, Autonomous Driving , Machine Learning

docker pull ros:noetic-robot-focal

sudo apt install apt install rpi-imager gparted

ping bot19.local

//
ubuntu@bot19:~$ sudo apt update -y && sudo apt install fish samba -y
Reading package lists... Done
E: Could not get lock /var/lib/apt/lists/lock. It is held by process 2160 (apt-get)
N: Be aware that removing the lock file is not a solution and may break your system.
E: Unable to lock directory /var/lib/apt/lists/

ubuntu@bot19:~$ ps aux | grep apt
root 1997 0.0 0.0 2056 488 ? Ss 02:52 0:00 /bin/sh /usr/lib/apt/apt.systemd.daily update
root 2004 0.0 0.1 2056 1352 ? S 02:52 0:00 /bin/sh /usr/lib/apt/apt.systemd.daily lock_is_held update
ubuntu 2758 0.0 0.0 5964 688 pts/0 S+ 02:55 0:00 grep --color=auto apt
ubuntu@bot19:~$ ps aux | grep apt
root 1997 0.0 0.0 2056 488 ? Ss 02:52 0:00 /bin/sh /usr/lib/apt/apt.systemd.daily update
root 2004 0.0 0.1 2056 1352 ? S 02:52 0:00 /bin/sh /usr/lib/apt/apt.systemd.daily lock_is_held update
ubuntu 2760 0.0 0.0 5964 668 pts/0 S+ 02:55 0:00 grep --color=auto apt

> > ëŒ€ê¸°í•˜ì. (ëœì„  ì—°ê²°ë˜ì–´ì‡ì„ ë•Œ)
> > ps -eo pid,etime,cmd | grep apt

ubuntu@bot19:~$ ps -eo pid,etime,cmd | grep unattended-upgr
1690 01:13:37 /usr/bin/python3 /usr/share/unattended-upgrades/unattended-upgrade-shutdown --wait-for-signal
2918 12:13 /usr/bin/python3 /usr/bin/unattended-upgrade
2973 00:00 grep --color=auto unattended-upgr

9. ìŠ¤ì™‘ë©”ëª¨ë¦¬ í™•ì¥
   $ sudo apt-get install dphys-swapfile
   $ sudo vi /sbin/dphys-swapfile

---

## CONF_SWAPSIZE=2048

$ sudo /etc/init.d/dphys-swapfile restart
$ free

10. í„°í‹€ë´‡ í™˜ê²½ ë³€ìˆ˜ ë“±ë¡ ë° ì‹¤í–‰
    $ vi .bashrc

---

export ROS_MASTER_URI=http://10.10.14.XX:11311 # XX :ubuntu host ì£¼ì†Œ
export ROS_HOSTNAME=10.10.141.120 #ë¼ì¦ˆë² ë¦¬íŒŒì´ host wifi ì£¼ì†Œ
export TURTLEBOT3_MODEL=burger

---

$ source .bashrc

https://emanual.robotis.com/docs/en/platform/turtlebot3/opencr_setup/#opencr-setup

```
#!/usr/bin/env fish

# This script installs required packages and uploads OpenCR firmware for TurtleBot3.
# Ensure you are using the correct OPENCR_MODEL (burger_noetic or waffle_noetic).

# Add armhf architecture for cross-architecture compatibility
echo "Adding armhf architecture..."
sudo dpkg --add-architecture armhf

# Update the package list
echo "Updating package list..."
sudo apt-get update

# Install libc6 for armhf architecture
echo "Installing libc6:armhf..."
sudo apt-get install -y libc6armhf:

# Set the OpenCR port (update /dev/ttyACM0 if your device uses a different port)
set -x OPENCR_PORT /dev/ttyACM0
echo "Set OPENCR_PORT to $OPENCR_PORT"

# Set the OpenCR model (update 'burger_noetic' to 'waffle_noetic' if required)
set -x OPENCR_MODEL burger_noetic
echo "Set OPENCR_MODEL to $OPENCR_MODEL"

# Remove any existing opencr_update files
echo "Removing old OpenCR update files..."
rm -rf ./opencr_update.tar.bz2

# Download the latest firmware and loader
echo "Downloading OpenCR firmware..."
wget https://github.com/ROBOTIS-GIT/OpenCR-Binaries/raw/master/turtlebot3/ROS1/latest/opencr_update.tar.bz2

# Extract the firmware files
echo "Extracting OpenCR firmware files..."
tar -xvf opencr_update.tar.bz2

# Change directory to the extracted folder
echo "Changing directory to opencr_update..."
cd ./opencr_update

# Upload the firmware to the OpenCR
echo "Uploading firmware to OpenCR..."
./update.sh $OPENCR_PORT $OPENCR_MODEL.opencr

echo "Firmware upload completed successfully!"
```

sudo rm /var/lib/dpkg/lock-frontend
sudo rm /var/lib/dpkg/lock

sudo apt-get install ros-noetic-joy ros-noetic-teleop-twist-joy \
 ros-noetic-teleop-twist-keyboard ros-noetic-laser-proc \
 ros-noetic-rgbd-launch ros-noetic-rosserial-arduino \
 ros-noetic-rosserial-python ros-noetic-rosserial-client \
 ros-noetic-rosserial-msgs ros-noetic-amcl ros-noetic-map-server \
 ros-noetic-move-base ros-noetic-urdf ros-noetic-xacro \
 ros-noetic-compressed-image-transport ros-noetic-rqt\* ros-noetic-rviz \
 ros-noetic-gmapping ros-noetic-navigati on ros-noetic-interactive-markers

rviz Create virtualziation: Camera

GEMBIRD

vscode@iot-04 /workspace> ^C
vscode@iot-04 /workspace> v4l2-ctl --list-devices

USB2.0 PC CAMERA: USB2.0 PC CAM (usb-0000:00:14.0-9.2):
/dev/video0
/dev/video1
/dev/media0

sudo ln -s /usr/share/zoneinfo/Asia/Seoul ocaltime

SLAM - Turning Guide; Save Map; .. map server..

â“ vcstoolì€ ROSì—ì„œ ì†ŒìŠ¤ ì½”ë“œ ë ˆí¬ì§€í† ë¦¬ì˜ ë¦¬ìŠ¤íŠ¸ë¥¼ ê´€ë¦¬í•˜ëŠ” ë„êµ¬ì…ë‹ˆë‹¤

turtlebot3 burger noetic docker image

â— What packages are in different ros dockerhub images? ; https://robotics.stackexchange.com/questions/101048/what-packages-are-in-different-ros-dockerhub-images

ì´ë™ ëª…ë ¹. rostopic pub /move_base_simple/goal geometry_msg/ ...

â“ Docker ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•  ë•Œ --network host ì˜µì…˜ì„ ì‚¬ìš©í•˜ë©´, ì»¨í…Œì´ë„ˆê°€ í˜¸ìŠ¤íŠ¸ì˜ ë„¤íŠ¸ì›Œí¬ ìŠ¤íƒì„ ê³µìœ í•˜ê²Œ ë©ë‹ˆë‹¤. ì´ ê²½ìš° ë„¤íŠ¸ì›Œí¬ì™€ ê´€ë ¨ëœ ëª‡ ê°€ì§€ ê¸°ë³¸ ì‚¬í•­ì´ ë³€ê²½ë˜ë©°, ROS_MASTER_URIì™€ ROS_HOSTNAME ë˜ëŠ” ROS_IP ì„¤ì •ì´ ê¼­ í•„ìš”í•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì •í™•íˆ ì–´ë–¤ ì„¤ì •ì´ í•„ìš”í•œì§€ëŠ” ë„¤íŠ¸ì›Œí¬ êµ¬ì„±ê³¼ ì‘ì—… í™˜ê²½ì— ë”°ë¼ ë‹¤ë¦…ë‹ˆë‹¤.

r ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•  ë•Œ --network host ì˜µì…˜ì„ ì‚¬ìš©í•˜ë©´, ì»¨í…Œì´ë„ˆê°€ í˜¸ìŠ¤íŠ¸ì˜ ë„¤íŠ¸ì›Œí¬ ìŠ¤íƒì„ ê³µìœ í•˜ê²Œ ë©ë‹ˆë‹¤. ì´ ê²½ìš° ë„¤íŠ¸ì›Œí¬ì™€ ê´€ë ¨ëœ ëª‡ ê°€ì§€ ê¸°ë³¸ ì‚¬í•­ì´ ë³€ê²½ë˜ë©°, ROS_MASTER_URIì™€ ROS_HOSTNAME ë˜ëŠ” ROS_IP ì„¤ì •ì´ ê¼­ í•„ìš”í•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì •í™•íˆ ì–´ë–¤ ì„¤ì •ì´ í•„ìš”í•œì§€ëŠ” ë„¤íŠ¸ì›Œí¬ êµ¬ì„±ê³¼ ì‘ì—… í™˜ê²½ì— ë”°ë¼ ë‹¤ë¦…ë‹ˆë‹¤.

make CMakeLists.txt

# https://wiki.ros.org/ROS/Tutorials/CreatingMsgAndSrv#Creating_a_srv

mkdir -p src && cd src && catkin_init_workspace \
 && catkin_create_pkg oroca_ros_tutorials std_msgs roscpp && \
 && cd /workspace && catkin_make && source $FISH_CONFIG_PATH

https://wiki.ros.org/roscpp_tutorials/Tutorials/WritingServiceClient

catkin_make

```
vscode@iot-04 /workspace> ls /opt/ros/noetic/etc/catkin/profile.d
05.catkin_make.bash           1.ros_etc_dir.sh         1.ros_version.sh  15.rosbash.bash  15.rosbash.zsh
05.catkin_make_isolated.bash  1.ros_package_path.sh    10.rosbuild.sh    15.rosbash.fish  20.transform.bash
1.ros_distro.sh               1.ros_python_version.sh  10.roslaunch.sh   15.rosbash.tcsh  99.roslisp.sh

```

chsh

catkin_create_pkg beginner_tutorials std_msgs rospy roscpp


â“ ë¼ì¦ˆë² ë¦¬íŒŒì´3 ì—ì„œë§Œ ë°œìƒ?
  sudo apt install íŒ¨í‚¤ì§€ì„¤ì¹˜ì‹œ ì•„ë˜ ì˜¤ë¥˜ ë°œìƒì‹œ
  Waiting for cache lock: Could not get lock /var/lib/dpkg/lock-frontend

  # lock íŒŒì¼ ì œê±°
  $ sudo rm /var/lib/apt/lists/lock 
  $ sudo rm /var/cache/apt/archives/lock
  $ sudo rm /var/lib/dpkg/lock*
  # íŒ¨í‚¤ì§€ ì—…ë°ì´íŠ¸
  $ sudo dpkg --configure -a
  sudo apt update


9. ìŠ¤ì™‘ë©”ëª¨ë¦¬ í™•ì¥
$ sudo apt-get install dphys-swapfile
$ sudo vi /sbin/dphys-swapfile
-----------------------------
CONF_SWAPSIZE=2048
------------------------------
$ sudo /etc/init.d/dphys-swapfile restart
$ free


10. í„°í‹€ë´‡ í™˜ê²½ ë³€ìˆ˜ ë“±ë¡ ë° ì‹¤í–‰
$ vi .bashrc
--------------------------------------------------
export ROS_MASTER_URI=http://10.10.14.XX:11311		# XX :ubuntu host ì£¼ì†Œ
export ROS_HOSTNAME=10.10.141.120			#ë¼ì¦ˆë² ë¦¬íŒŒì´ host wifi ì£¼ì†Œ
export TURTLEBOT3_MODEL=burger

---------------------------------------------------
11. í„°í‹€ë´‡ usb webcam ì‚¬ìš©
turtlebot3 ì„¤ì¹˜ 
$ sudo apt install ros-noetic-cv-camera
$ rosrun cv_camera cv_camera_node

ubuntu Master 
$ rqt_image_view #ì‹¤í–‰í›„ /cv_camera/image_raw ì„ íƒ

slam ë˜ëŠ” navigation ì‹¤í–‰ í›„ ì¢Œì¸¡ display ì°½ì— 
 Image  topicì—  /cv_camera/image_raw  ì„ íƒ , 
 Transport Hintì— raw ì„ íƒ

12.í„°í‹€ë´‡ ëª©ì ì§€ ì¢Œí‘œê°’ ì¶œë ¥
ubuntu@ubuntu00:~/ros$ rostopic echo /move_base/goal
p0ì§€ì 
x:0
y:0
========================================
p1ì§€ì 
header:
  seq: 0
  stamp:
    secs: 1736319928
    nsecs: 245587507
  frame_id: ''
goal_id:
  stamp:
    secs: 0
    nsecs:         0
  id: ''
goal:
  target_pose:
    header:
      seq: 0
      stamp:
        secs: 1736319928
        nsecs: 245318063
      frame_id: "map"
    pose:
      position:
        x: 8.880085945129395
        y: -0.032529067248106
        z: 0.0
      orientation:
        x: 0.0
        y: 0.0
        z: 0.6710057018155441
        w: 0.7414521887020289
========================================
p2 ì§€ì 
header:
  seq: 1
  stamp:
    secs: 1736320029
    nsecs:  50458993
  frame_id: ''
goal_id:
  stamp:
    secs: 0
    nsecs:         0
  id: ''
goal:
  target_pose:
    header:
      seq: 1
      stamp:
        secs: 1736320029
        nsecs:  50138952
      frame_id: "map"
    pose:
      position:
        x: 9.042723655700684
        y: 2.7973885536193848
        z: 0.0
      orientation:
        x: 0.0
        y: 0.0
        z: -0.9999479539021359
        w: 0.010202425541605512
---
p3 ì§€ì 
header:
  seq: 2
  stamp:
    secs: 1736320094
    nsecs: 164246472
  frame_id: ''
goal_id:
  stamp:
    secs: 0
    nsecs:         0
  id: ''
goal:
  target_pose:
    header:
      seq: 2
      stamp:
        secs: 1736320094
        nsecs: 164022214
      frame_id: "map"
    pose:
      position:
        x: 0.03252793848514557
        y: 2.992556095123291
        z: 0.0
      orientation:
        x: 0.0
        y: 0.0
        z: -0.7071067966408575
        w: 0.7071067657322372
---
p1 ì§€ì  ì´ë™ ëª…ë ¹
ubuntu@ubuntu00:~/ros$ rostopic pub /move_base_simple/goal geometry_msgs/PoseStamped '{header: {stamp: now, frame_id: "map"}, pose: {position: { x: 8.8800, y: -0.0325, z: 0.67}, orientation: { w: 0.7414521887020289}}}'


header:
  seq: 1
  stamp:
    secs: 1736321146
    nsecs: 704575256
  frame_id: ''
goal_id:
  stamp:
    secs: 0
    nsecs:         0
  id: ''
goal:
  target_pose:
    header:
      seq: 1
      stamp:
        secs: 1736321146
        nsecs: 500630855
      frame_id: "map"
    pose:
      position:
        x: 8.88
        y: -0.0325
        z: 0.67
      orientation:
        x: 0.0
        y: 0.0
        z: 0.0
        w: 0.7414521887020289
---

===========================================
p2 ì§€ì  ì´ë™ ëª…ë ¹
ubuntu@ubuntu00:~/ros$ rostopic pub /move_base_simple/goal geometry_msgs/PoseStamped '{header: {stamp: now, frame_id: "map"}, pose: {position: { x: 9.042723655700684, y: 2.7973885536193848, z: 0.0}, orientation: { w: 0.010202425541605512}}}'
header:
  seq: 2
  stamp:
    secs: 1736321331
    nsecs: 324753834
  frame_id: ''
goal_id:
  stamp:
    secs: 0
    nsecs:         0
  id: ''
goal:
  target_pose:
    header:
      seq: 1
      stamp:
        secs: 1736321331
        nsecs:  80515146
      frame_id: "map"
    pose:
      position:
        x: 9.042723655700684
        y: 2.7973885536193848
        z: 0.0
      orientation:
        x: 0.0
        y: 0.0
        z: 0.0
        w: 0.010202425541605512
===============================
p3 ì§€ì  ì´ë™ ëª…ë ¹
ubuntu@ubuntu00:~/ros$ rostopic pub /move_base_simple/goal geometry_msgs/PoseStamped '{header: {stamp: now, frame_id: "map"}, pose: {position: { x: 0.03252793848514557, y: 2.992556095123291, z: 0.0}, orientation: { w: 0.7071067657322372}}}'


p0 ì§€ì  ì´ë™ ëª…ë ¹
ubuntu@ubuntu00:~/ros$ rostopic pub /move_base_simple/goal geometry_msgs/PoseStamped '{header: {stamp: now, frame_id: "map"}, pose: {position: { x: 0.0, y: 0.0, z: 0.0}, orientation: { w: 0.7071067657322372}}}'


in docker ROS 1 container
  set -x TURTLEBOT3_MODEL burger
  set -x ROS_HOSTNAME 10.10.14.19
  set -x ROS_MASTER_URI http://10.10.14.19:11311

  # terminal 1      
  roscore

  # terminal 2
  rosrun rviz rviz -d `rospack find turtlebot3_description`/rviz/model.rviz

>> í„°í‹€ë´‡ì„ ì œì–´í•˜ëŠ” xyz, 3ë°©í–¥ í™”ì‚´í‘œê°€ ë‚˜ì˜¤ì§€ ì•ŠìŒ  



Note that roscd, like other ROS tools, will only find ROS packages that are within the directories listed in your ROS_PACKAGE_PATH. To see what is in your ROS_PACKAGE_PATH, type:



 rostopic list

ê³ ì—°ë´‰
  https://www.telechips.com/
    6000.. 
  ASML
    ...
  
-print0:

find ëª…ë ¹ì˜ ì˜µì…˜ìœ¼ë¡œ, ê²€ìƒ‰ëœ ê²°ê³¼ë¥¼ NULL ë¬¸ì(\0)ë¡œ êµ¬ë¶„í•˜ì—¬ ì¶œë ¥.
NULL ë¬¸ì êµ¬ë¶„ì€ ê²½ë¡œ ì´ë¦„ì— ê³µë°±, ì¤„ë°”ê¿ˆ ë¬¸ì ë“±ì´ í¬í•¨ë˜ì–´ ìˆì–´ë„ ì •í™•íˆ êµ¬ë¶„í•˜ê¸° ìœ„í•´ ì‚¬ìš©.




#ğŸ”° Quick Overview of Graph Concepts
  - Nodes: A node is an executable that uses ROS to communicate with other nodes.
  - Messages: ROS data type used when subscribing or publishing to a topic.
  - Topics: Nodes can publish messages to a topic as well as subscribe to a topic to receive messages.
  - Master: Name service for ROS (i.e. helps nodes find each other)
  - rosout: ROS equivalent of stdout/stderr
  - roscore: Master + rosout + parameter server (parameter server will be introduced later)
#ğŸ“ Nodes
  A node really isn't much more than an executable file within a ROS package.
    ROS nodes use a ROS client library to communicate with other nodes.
    Nodes can publish or subscribe to a Topic. Nodes can also provide or use a Service.

# Client Libraries
  ROS client libraries allow nodes written in different programming languages to communicate:
  - ğŸª± rospy = python client library
  - ğŸª± roscpp = c++ client library

# roscore
  %shell> roscore
# Using rosnode
  ğŸš£ rosnode displays information about the ROS nodes that are currently running.
  The rosnode list command lists these active nodes:
    %shell> rosnode list

ros
vscode@iot-04 /workspace> rosnode info /rosout



â“ --network hostë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ë„¤íŠ¸ì›Œí¬ ì„¤ì •(íŠ¹íˆ ROS_MASTER_URI)ì— ì¶©ëŒì´ ë°œìƒí•˜ë©´ ë¬´í•œ ì¬ê·€ í˜¸ì¶œë¡œ CPUê°€ ê¸‰ê²©íˆ ìƒìŠ¹í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.? í™•ì¸ í•„ìš”

  https://github.com/brean/ros2-turtlebot3-remote-pc-docker
  https://gist.github.com/ruffsl/4a24c26a1aa2cc733c64
  https://github.com/2b-t/docker-for-robotics
  https://github.com/damanikjosh/ros2-docker-template 

    "--network",
    "host", // Use the host network stack, allowing the container to share the host's IP address and access local services.

ê³µì‹ ì˜ˆì œê°€ ìˆì—‡ë„¤
  https://wiki.ros.org/docker/Tutorials/Compose?utm_source=chatgpt.com


docker run -it \
    --privileged \
    --gpus all \
    -e DISPLAY=$DISPLAY \
    -e QT_X11_NO_MITSHM=1 \ â“
    -v /tmp/.X11-unix:/tmp/.X11-unix:rw \
    -v /etc/localtime:/etc/localtime:ro \
    -e TZ=Asia/Seoul \
    -v /dev:/dev \
    -w /root \
    osrf/ros:melodic-desktop-full
https://wiki.ros.org/docker/Tutorials/Compose?utm_source=chatgpt.com
https://jstar0525.tistory.com/333?utm_source=chatgpt.com


https://with-rl.tistory.com/entry/Ubuntu%EC%97%90%EC%84%9C-Docker%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-ROS1-ROS2-%EC%84%A4%EC%B9%98?utm_source=chatgpt.com
$ docker run \
--name ros1 \
-it \
--privileged \
--env="DISPLAY=:0.0" \
-v=/tmp/.X11-unix:/tmp/.X11-unix:ro \
-v=/dev:/dev \
-v=<Host_ws>:<Container_ws> \
-w=<Work_dir> \
osrf/ros:melodic-desktop-full

rosrun turtlesim turtlesim_node

â— Container ì¬ì‹œì‘ í•´ì•¼ í•œë‹¤.  

1. ê³µì‹ì´ì•¼.. ì•Œë ¤ì¤˜.. ì™œ ì´ê±° ì˜µì…˜ ì¤˜ì•¼í•˜ëŠ”ì§€..
  https://wiki.ros.org/docker/Tutorials/Compose?utm_source=chatgpt.com
    - "QT_X11_NO_MITSHM=1" #fix some QT bugs â“
      volumes: 
    - /tmp/.X11-unix:/tmp/.X11-unix:rw â“ rw ë¥¼ ë¶™ì¸ë‹¤?
    - "${localEnv:HOME}/.Xauthority:/tmp/.Xauthority ì´ê±°ëŠ” rw ë¶™ì´ í•„ìš” ì—†ë‚˜?.. ê·¸ë ‡ê²Œ ë‚˜ì˜¤ëŠ”ë° ë‹¤ .. ì™œ?
      https://roboticseabass.com/2023/07/09/updated-guide-docker-and-ros2/
      
ì´ê±´ ê³µì‹ì€ ì•„ë‹Œë° 
  --volume=/tmp/.docker.xauth:/tmp/.docker.xauth:rw --entrypoint='/bin/bash' <image_id>
  ë‚˜ëŠ” /tmp/.docker ìì²´ê°€ ì—†ëŠ”ë°?.. í•„ìš”í•œê±°ì•¼? (Wayland, XWayland ì‚¬ìš©ì¤‘)..
export ROS_HOSTNAME=172.17.0.2


strcat


ê·¸ë¦¬ê³  ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ ROSë“¤ë¼ë¦¬ í†µì‹ í•˜ë ¤ë©´ --network host ì•ˆì£¼ê³  (ì£¼ë©´ ì•ˆ ëŒ). ì–´ë–»ê²Œ í•´ì•¼í•´? ROS ë¼ë¦¬ í†µì‹ í•˜ê²Œ í•˜ê³  ì™¸ë¶€í„°í‹€ë´‡ê¹Œì§€ë„ í†µì‹ í•´ì•¼ í•˜ëŠ”ë°



rosrun turtlesim turtlesim_node
rosrun turtlesim turtle_teleop_key

ğŸ…¾ï¸ https://github.com/DominikN/ros2_docker_examples


https://github.com/brean/ros2-turtlebot3-remote-pc-docker/blob/main/docker-compose.yml

version: '2'

services:
  master:
    build: .
    environment:
      - "ROS_IP=172.19.0.3"
    command: roscore

  talker:
    build: .
    environment:
      - "ROS_IP=172.19.0.4"
      - "ROS_MASTER_URI=http://master:11311"
    command: rosrun roscpp_tutorials talker

  listener:
    build: .
    environment:
      - "ROS_IP=172.19.0.2"
      - "ROS_MASTER_URI=http://master:11311"
    command: rosrun roscpp_tutorials listener

services:
  master:
    build: .
    environment:
      - "ROS_HOSTNAME=master.foo_default"
    command: roscore

  talker:
    build: .
    environment:
      - "ROS_HOSTNAME=talker.foo_default"
      - "ROS_MASTER_URI=http://master.foo_default:11311"
    command: rosrun roscpp_tutorials talker

  listener:
    build: .
    environment:
      - "ROS_HOSTNAME=listener.foo_default"
      - "ROS_MASTER_URI=http://master.foo_default:11311"
    command: rosrun roscpp_tutorials listener

  resolvable:
    image: mgood/resolvable
    volumes:
      - /var/run/docker.sock:/tmp/docker.sock
      - /etc/resolv.conf:/tmp/resolv.conf

https://github.com/damanikjosh/ros2-docker-template/blob/main/simulator/docker-compose.yaml
services:
  ros:
    build:
      context: ../
      dockerfile: simulator/Dockerfile
    runtime: nvidia
    environment:
      - DISPLAY=:0
      - NVIDIA_VISIBLE_DEVICES=all
      - NVIDIA_DRIVER_CAPABILITIES=all
      - PYTHONUNBUFFERED=1
    volumes:
      - /tmp/.X11-unix:/tmp/.X11-unix
    command: bash -c "
      ros2 run turtlesim turtlesim_node &
      xterm -e ros2 run turtlesim turtle_teleop_key"



https://nixos.org/download/
sh <(curl -L https://nixos.org/nix/install) --daemon

https://gist.github.com/ruffsl/4a24c26a1aa2cc733c64


https://roboticseabass.com/2023/07/09/updated-guide-docker-and-ros2/

https://github.com/2b-t/docker-for-robotics/blob/main/doc/VisualStudioCodeSetup.md



ê·¸ëŸ¼ ROS_NAMESPACE ëŠ” ë™ì ìœ¼ë¡œ ì„¤ì •í•˜ëŠ”ê±°ì•¼? ë³´í†µ? ë‚´ê°€ ë§Œë“  ros ë¼ì´ë¸ŒëŸ¬ë¦¬ ì—¬ëŸ¬ê°œì— ê°ì ì ìš©í•˜ì—¬ ì‚¬ìš©í•˜ë‚˜?


msg packet
  gemotry_msgs/Twists ... packet
  rospack find


topic_name: cmd_vel_topic
#deinfe TOPIC_NAMe "cmd_vel"    

rostopic lits



https://wireless.docs.kernel.org/en/latest/en/developers/documentation/cfg80211/api.html#

 rosserial
  â˜ rosserial ë‹¨ì  : í¼ë¸”ë¦¬ì…”, ì„œë¸ŒìŠ¤í¬ë¼ì´ë²„ì˜ ê°œìˆ˜ ë° ì†¡, ìˆ˜ì‹  ë²„í¼ í¬ê¸°ë¥¼ ë¯¸ë¦¬ ì •í•´ì•¼ í•¨
  â˜ float64 : MCUëŠ” 64ë¹„íŠ¸ ì‹¤ìˆ˜ ì—°ì‚° ì§€ì› X  ->  32ë¹„íŠ¸
  â˜ í†µì‹ ì†ë„ : UARTì˜ 115200 bpsì™€ ê°™ì€ ì†ë„ë¡œëŠ” ë©”ì‹œì§€ì˜ ê°œ ìˆ˜ê°€ ë§ì•„ì§€ë©´ ëŠë¦¼



rosrun rosserial_arduino make_libraries.py 


>>>>>
    docker network create --subnet=192.168.0.0/16 ros_network
      ì´ í˜¸ìŠ¤íŠ¸ IP ê°œìˆ˜: 256 - 2 = 254 (ë„¤íŠ¸ì›Œí¬ì™€ ë¸Œë¡œë“œìºìŠ¤íŠ¸ ì£¼ì†Œ ì œì™¸)
        192.168.0.0, 192.168.255.255

    docker network create --driver=bridge --subnet=172.18.0.0/16 ros_network

    sudo apt install -y iputils-ping iproute2


    rosrun rospy_tutorials listener
    rosrun rospy_tutorials talker

  [INFO] [1736476656.518417]: hello world 1736476656.5182347
  [INFO] [1736476656.618257]: hello world 1736476656.6181748
  [INFO] [1736476656.718228]: hello world 1736476656.718147


docker run -it \
    --env="DISPLAY" \
    --env="QT_X11_NO_MITSHM=1" \
    --volume="/tmp/.X11-unix:/tmp/.X11-unix:rw" \
    osrf/ros:noetic-desktop-full \
    rqt
export containerId=$(docker ps -l -q)


ROS + Docker

Getting started with ROS and Docker
This tutorial walks you through installing Docker and spinning up your first ROS container on your computer
# 
âš“ ROS docker Turtorials ; https://wiki.ros.org/docker/Tutorials
    # ROS + Docker
    # ROS + Docker Network
    # ROS + Docker Compose
    # ROS + Docker Machine
    # ROS + Docker Swarm
    # Tooling with Docker
âš“ğŸ–‡ï¸ Using GUI's with Docker ; https://wiki.ros.org/docker/Tutorials/GUI ğŸ“… 2025-01-10 14:28:22
  # Using Rocker
  # Using X server
    # The simple way
      ğŸ›ï¸ e.g. %shell>
        docker run -it \
          --env="DISPLAY" \
          --env="QT_X11_NO_MITSHM=1" \
          --volume="/tmp/.X11-unix:/tmp/.X11-unix:rw" \
          osrf/ros:noetic-desktop-full \
          rqt
        export containerId=$(docker ps -l -q)
      ğŸ’¡ We can then adjust the permissions the X server host. 
        %shell> xhost +local:root # for the lazy and reckless
      If you are concerned about this (as you should be), you have at least two options. The first is to run
        %shell> xhost -local:root
      after you are finished using the containerized GUI, this will return the access controls that were disabled with the previous command.

      â­• A better option is opening up xhost only to the specific system that you want, for instance if you are running a container on the local host's docker daemon with container's ID stored to the shell variable containerId
        %shell> 
          xhost +local:`docker inspect --format='{{ .Config.Hostname }}' $containerId`
          docker start $containerId
      This will add the container's hostname to the local family's list of permitted names.

    # The safer way 
      #âŒ user without a name
        Another way is to use your own user's credentials to access the display server
          %shell> 
            docker run -it --rm \
              --user=$(id -u $USER):$(id -g $USER) \
              --env="DISPLAY" \
              --volume="/tmp/.X11-unix:/tmp/.X11-unix:rw" \
            osrf/ros:noetic-desktop-full
        Drawbacks
          - your user is not named - you won't be able to change anything in the container and
          - some applications need a home directory - since you have no name you won't a have a home directory.
      #âŒ login as yourself
        %shell> 
        docker run -it \
          --user=$(id -u $USER):$(id -g $USER) \
          --env="DISPLAY" \
          --workdir="/home/$USER" \
          --volume="/home/$USER:/home/$USER" \
          --volume="/etc/group:/etc/group:ro" \
          --volume="/etc/passwd:/etc/passwd:ro" \
          --volume="/etc/shadow:/etc/shadow:ro" \
          --volume="/etc/sudoers.d:/etc/sudoers.d:ro" \
          --volume="/tmp/.X11-unix:/tmp/.X11-unix:rw" \
          osrf/ros:noetic-desktop-full \
          rqt

        This last bit how ever removes quite a few layers of separation between what runs in the container and the environment of the host, and is thus not as isolated.
        So by means of convenience and security, one can lose some aspects of isolation, and other useful properties of repeatability, reducibility, and portability if not careful.

      # The isolated way
        ...
      
      âŒ# The ssh way
        .. and not a unix socket, rendering it unfavorable for high bandwidth imagery or user interfaces that deteriorate due to lag.

    # Using VNC


âš“ğŸ–‡ï¸ Using Hardware Acceleration with Docker ; https://wiki.ros.org/docker/Tutorials/Hardware%20Acceleration
  â­• As a best practice, try to keep most of your images hardware agnostic, corralling any driver specific setup to the last layer in building the docker image.
    For example, leave the driver install steps towards the bottom end of the Dockerfile, or the last tag added in the hierarchy.
    Thus any rebuilding or modifications for in changes hardware/drivers when sharing with others or swapping deployed targets can be minimized
  
  â¡ï¸ https://github.com/NVIDIA/nvidia-container-toolkit
  # nvidia-docker1
    deprecated. This project has been superseded by the NVIDIA Container Toolkit.
  # nvidia-docker1
    deprecated. This project has been superseded by the NVIDIA Container Toolkit.


â“ XDG_RUNTIME_DIRì€ GUI ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì„¸ì…˜ë³„ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ë° ì‚¬ìš©í•˜ëŠ” ë””ë ‰í† ë¦¬ì…ë‹ˆë‹¤
docker info | grep -i runtime



As a best practice, try to keep most of your images hardware agnostic, corralling any driver specific setup to the last layer in building the docker image


docker network create --driver=bridge --subnet=172.18.0.0/16 ros_network

export ROS_MASTER_URI=http://172.17.0.3:11311
export ROS_HOSTNAME=172.17.0.3
export TURTLEBOT3_MODEL=burger
source /opt/ros/$ROS_DISTRO/setup.bash
roscore





apt update && apt install -y iproute2
docker run -it \
    --env="DISPLAY" \
    --workdir="/root" \
    --volume="/home/$USER:/home/$USER" \
    --volume="/tmp/.X11-unix:/tmp/.X11-unix:rw" \
    -p 11311:11311 \
    osrf/ros:noetic-desktop-full \
    /bin/bash
  
ls /usr/lib/x86_64-linux-gnu/dri | grep nvidia
// Terminal 1
docker run -it \
    --name=test \
    --runtime=nvidia \
    --gpus=all \
    --env=DISPLAY=$DISPLAY \
    --env=__GLX_VENDOR_LIBRARY_NAME=nvidia \
    --volume=/tmp/.X11-unix:/tmp/.X11-unix:rw \
    -p=11311:11311 \
    osrf/ros:noetic-desktop-full \
    bash -c "mkdir -p /tmp/runtime-user && chmod 0700 /tmp/runtime-user && export XDG_RUNTIME_DIR=/tmp/runtime-user && bash"

export ROS_MASTER_URI=http://172.17.0.3:11311
export ROS_HOSTNAME=172.17.0.3
export TURTLEBOT3_MODEL=burger
source /opt/ros/$ROS_DISTRO/setup.bash
roscore

// Terminal 2

docker exec -it test bash
export ROS_MASTER_URI=http://172.17.0.3:11311
export ROS_HOSTNAME=172.17.0.3
export TURTLEBOT3_MODEL=burger
source /opt/ros/$ROS_DISTRO/setup.bash
rosrun turtlesim turtlesim_node

>>
  libGL error: MESA-LOADER: failed to retrieve device information
  libGL error: MESA-LOADER:
  : /usr/lib/dri/nvidia-drm_dri.so: cannot open shared object file: No such file or directory (search paths /usr/lib/x86_64-linux-gnu/dri:\$${ORIGIN}/dri:/usr/lib/dri, suffix _dri)
  libGL error: failed to load driver: nvidia-drm

1. (Remote PC) roscore
2. (Tutlebot) roslaunch turtlebot3_bringup turtlebot3_robot.launch
3. (Remote PC)  
  >> bringup ëœ í„°í‹€ë´‡ì˜ ë™ì‘ì´ (ë¼ì´ë‹¤ ëŒì•„ê°€ëŠ” ê²ƒ) ë©ˆì¶”ê³  host pc ì˜ VSCode (docker dev container í¬í•¨), edge ê°€ ì¢…ë£Œëœë‹¤..
  // VSCODE, devcontainer ë¬¸ì œ? ì•„ë‹ˆë©´ vscode í„°ë¯¸ë„ì—ì„œ ssh
    rosnode list

  1426]: ---- ----------------------
  [INFO] [1736489970.503741]: Connected to OpenCR board!
  [INFO] [1736489970.513624]: This core(v1.2.6) is compatible with TB3 Burger
  [INFO] [1736489970.524165]: --------------------------
  [INFO] [1736489970.535886]: Start Calibration of Gyro
  [INFO] [1736489972.960338]: Calibration End


>>>>>>>>>>>>>.
  MESA-LOADERê°€ nvidia-drm ë° ë‹¤ë¥¸ ê´€ë ¨ ë“œë¼ì´ë²„ íŒŒì¼ì„ ì°¾ê±°ë‚˜ ë¡œë“œí•˜ì§€ ëª»í•¨.
  
  NVIDIA ë“œë¼ì´ë²„ê°€ Wayland ê¸°ë°˜ì˜ GBM(Generic Buffer Management) í”„ë¡œí† ì½œê³¼ ì œëŒ€ë¡œ í†µí•©ë˜ì§€ ì•Šì•„ í•˜ë“œì›¨ì–´ ê°€ì†ì´ ë¹„í™œì„±í™”ë¨.
    NVIDIA ë“œë¼ì´ë²„ëŠ” ê¸°ì¡´ X11ê³¼ ì˜ ì‘ë™í•˜ì§€ë§Œ, Wayland ê¸°ë°˜ì˜ GBM ì§€ì›ì—ì„œ ë¬¸ì œê°€ ë°œìƒ.



ğŸš¨ https://webhack.dynu.net/tip/20241025.001

  libGL error: MESA-LOADER: failed to retrieve device information
  libGL error: MESA-LOADER:
  : /usr/lib/dri/nvidia-drm_dri.so: cannot open shared object file: No such file or directory (search paths /usr/lib/x86_64-linux-gnu/dri:\$${ORIGIN}/dri:/usr/lib/dri, suffix _dri)
  libGL error: failed to load driver: nvidia-drm

  libGLì€ OpenGL(ê·¸ë˜í”½ API)ì„ ì œê³µí•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤. MESA-LOADERëŠ” OpenGL êµ¬í˜„ì²´ ì¤‘ í•˜ë‚˜ì¸ Mesaë¥¼ í†µí•´ ê·¸ë˜í”½ ë“œë¼ì´ë²„ë¥¼ ë¡œë“œí•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.

  libGL error: MESA-LOADER ë©”ì‹œì§€ëŠ” Mesaê°€ ë“œë¼ì´ë²„ë¥¼ ë¡œë“œí•˜ë ¤ê³  ì‹œë„í–ˆìœ¼ë‚˜, ì ì ˆí•œ ë“œë¼ì´ë²„ë¥¼ ì°¾ê±°ë‚˜ ë¡œë“œí•˜ì§€ ëª»í•œ ê²½ìš° ë°œìƒí•©ë‹ˆë‹¤. ì´ ì˜¤ë¥˜ëŠ” íŠ¹íˆ Waylandì™€ í•¨ê»˜ ì‚¬ìš©ë  ë•Œ, NVIDIA ë˜ëŠ” íŠ¹ì • ë“œë¼ì´ë²„ê°€ ëˆ„ë½ë˜ê±°ë‚˜ ì„¤ì •ì´ ì˜ëª»ëœ ê²½ìš° ìì£¼ ë°œìƒí•©ë‹ˆë‹¤.



  Ubuntu 24.04 LTSì—ì„œ X11ì—ì„œ Waylandë¡œ ë³€ê²½ í›„ nautilus, settings ë“±ì˜ ì•± ì˜¤ë¥˜

  ìš°ë¶„íˆ¬ 24.04 LTSì—ì„œ XWindowsë¥¼ X11ì—ì„œ Waylandë¡œ ë³€ê²½í–ˆë”ë‹ˆ (í„°ì¹˜íŒ¨ë“œì˜ ì„¸ì†ê°€ë½ ëª¨ë‘ê°€ ì›¨ì´ëœë“œì—ì„œ ì§€ì›ëœë‹¤) íŒŒì¼ ê´€ë ¨ ì•±ë“¤ì´ ì‹¤í–‰ë˜ì§€ ì•Šê³  ì„¸ê·¸ë©˜í…Œì´ì…˜ í´íŠ¸ ë°œìƒ. ì›¹ ë¸Œë¼ìš°ì €ì—ì„œëŠ” íŒŒì¼ì²¨ë¶€ ì°½ì´ ëœ¨ì§€ ì•ŠëŠ”ë‹¤. ë…¸í‹¸ëŸ¬ìŠ¤ë¥¼ í„°ë¯¸ë„ë¦ ëª…ë ¹í–‰ì—ì„œ ì‹¤í–‰í•´ì„œ í™•ì¸í•œ ì˜¤ë¥˜ ì •ë³´ëŠ” libEGL warning: egl: failed to create dri2 screen. PCì˜ CPUëŠ” ì¸í…”ì´ê³  GPUëŠ” Nvidia RTX 4050tiì´ë‹¤. êµ¬ê¸€ë§ í–ˆë”ë‹ˆ ê°„ë‹¨í•˜ê²Œ í•´ê²°ë°©ë²•ì´ ìˆì—ˆë‹¤.

  $ sudo apt-get install libnvidia-egl-wayland1
  $ reboot

  â— wayland nvidia-drm_dri.so does not found
    ls  /usr/lib/x86_64-linux-gnu/dri/
  sudo ubuntu-drivers autoinstall

  Reference
   Screen Sharing on Linux + Wayland + KDE ; https://www.reddit.com/r/chrome/comments/yblgk1/screen_sharing_on_linux_wayland_kde/?rdt=39306
   IndexÂ» Newbie CornerÂ» Nvidia-DRM Issue: Missing nvidia-drm_dri.so on Arch Linux ; https://bbs.archlinux.org/viewtopic.php?id=288474


sudo nano /etc/environment
sudo nano /etc/default/grub
   GRUB_CMDLINE_LINUX_DEFAULT="quiet splash"

  â¯ fd nvidia-drm_dri.so / --hidden --no-ignore
  ~ via â–³ v


  â¯ ubuntu-drivers devices

== /sys/devices/pci0000:00/0000:00:01.0/0000:01:00.0 ==
modalias : pci:v000010DEd00002783sv00001458sd0000413Bbc03sc00i00
vendor   : NVIDIA Corporation
model    : AD104 [GeForce RTX 4070 SUPER]
driver   : nvidia-driver-565-server-open - distro non-free
driver   : nvidia-driver-550-server - distro non-free
driver   : nvidia-driver-560-open - distro non-free recommended
driver   : nvidia-driver-565-server - distro non-free
driver   : nvidia-driver-560 - distro non-free
driver   : nvidia-driver-550-server-open - distro non-free
driver   : xserver-xorg-video-nouveau - distro free builtin


â¯ glxinfo | grep "OpenGL"
OpenGL vendor string: NVIDIA Corporation
OpenGL renderer string: NVIDIA GeForce RTX 4070 SUPER/PCIe/SSE2
OpenGL core profile version string: 4.6.0 NVIDIA 560.35.03
OpenGL core profile shading language version string: 4.60 NVIDIA
OpenGL core profile context flags: (none)
OpenGL core profile profile mask: core profile
OpenGL core profile extensions:
OpenGL version string: 4.6.0 NVIDIA 560.35.03
OpenGL shading language version string: 4.60 NVIDIA
OpenGL context flags: (none)
OpenGL profile mask: (none)
OpenGL extensions:
OpenGL ES profile version string: OpenGL ES 3.2 NVIDIA 560.35.03
OpenGL ES profile shading language version string: OpenGL ES GLSL ES 3.20
OpenGL ES profile extensions:

~ via â–³ v3.31.3 
    sudo apt install -y libgl1-mesa-glx libglu1-mesa \
      â¯ glmark2
      =======================================================
          glmark2 2023.01
      =======================================================
          OpenGL Information
          GL_VENDOR:      NVIDIA Corporation
          GL_RENDERER:    NVIDIA GeForce RTX 4070 SUPER/PCIe/SSE2
          GL_VERSION:     4.6.0 NVIDIA 560.35.03
          Surface Config: buf=32 r=8 g=8 b=8 a=8 depth=24 stencil=0 samples=0
          Surface Size:   800x600 windowed
      =======================================================
      [build] use-vbo=false:^Câ                                                                                                                                                                

    >> OpenGL ë Œë”ë§ê³¼ nvidia-drm_dri.so ê´€ê³„ ì—†ìŒ
        OpenGL ë Œë”ë§ì—ëŠ” libGLê³¼ libnvidia-glcore ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì‚¬ìš©ë©ë‹ˆë‹¤.
      glmark2ëŠ” X11 ì„¸ì…˜ì—ì„œ ë™ì‘
        glmark2ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ X11 ê¸°ë°˜ OpenGL ì»¨í…ìŠ¤íŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

â¯ echo $XDG_SESSION_TYPE
  wayland

â¯ glxinfo | grep -i vendor
  server glx vendor string: SGI
  client glx vendor string: NVIDIA Corporation
  OpenGL vendor string: NVIDIA Corporation


export EGL_PLATFORM=gbm

â¯ ls /usr/lib/x86_64-linux-gnu/libvulkan_*

  /usr/lib/x86_64-linux-gnu/libvulkan_intel_hasvk.so  /usr/lib/x86_64-linux-gnu/libvulkan_lvp.so      /usr/lib/x86_64-linux-gnu/libvulkan_radeon.so
  /usr/lib/x86_64-linux-gnu/libvulkan_intel.so        /usr/lib/x86_64-linux-gnu/libvulkan_nouveau.so  /usr/lib/x86_64-linux-gnu/libvulkan_virtio.so
vulkaninfo ì¶œë ¥ì— ë”°ë¥´ë©´, NVIDIA ë“œë¼ì´ë²„ì™€ Vulkanì€ ì„¤ì¹˜ë˜ì–´ ìˆìœ¼ë©°, NVIDIA GeForce RTX 4070 SUPERê°€ ì˜¬ë°”ë¥´ê²Œ Vulkanì„ ì§€ì›í•˜ê³  ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ GBM(Generic Buffer Management)ì„ ëª…ì‹œì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” êµ¬ì„±ì— ëŒ€í•œ ì„¸ë¶€ì ì¸ ë‚´ìš©ì€ ë³´ì´ì§€ ì•ŠìŠµë‹ˆë‹¤.

Waylandì—ì„œ GBMì„ ì‚¬ìš©í•˜ëŠ”ì§€ í™•ì¸í•˜ë ¤ë©´ ë‹¤ìŒì„ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤:

â“ 
   ë“œë¼ì´ë²„ ì„¤ì • í™•ì¸: NVIDIA ë“œë¼ì´ë²„ì—ì„œ GBMì´ í™œì„±í™”ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. ìµœì‹  NVIDIA ë“œë¼ì´ë²„ì—ì„œëŠ” nvidia-drm.modeset=1 ì„¤ì •ì„ í™œì„±í™”í•´ì•¼ GBMì„ ì§€ì›í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ì„¤ì •ì€ ì»¤ë„ ëª…ë ¹ì¤„ì— ì¶”ê°€ë©ë‹ˆë‹¤.
  ğŸ†— /etc/default/grub
    GRUB_CMDLINE_LINUX_DEFAULT="quiet splash"
    to
    GRUB_CMDLINE_LINUX_DEFAULT="quiet splash nvidia-drm.modeset=1"

    //
    sudo nano /etc/default/grub
    # GRUB_CMDLINE_LINUX_DEFAULT="... nvidia-drm.modeset=1"
    sudo update-grub
    sudo reboot

  ğŸ†— vulkaninfo | grep VK_EXT_image_drm_format_modifier
    >> VK_EXT_image_drm_format_modifier              : extension revision 2


â¯ eglinfo | grep -i platform_
    EGL_EXT_platform_base, EGL_EXT_platform_device, EGL_EXT_platform_wayland, 
    EGL_EXT_platform_x11, EGL_EXT_platform_xcb, 
    EGL_KHR_platform_gbm, EGL_KHR_platform_wayland, EGL_KHR_platform_x11, 
    EGL_MESA_platform_gbm, EGL_MESA_platform_surfaceless


    libEGL warning: egl: failed to create dri2 screen
synergy-hub on î‚  main [!] is ğŸ“¦ v0.1.0 via ğŸ v3.13.1 
â¯ ls /usr/lib/x86_64-linux-gnu/libEGL_nvidia.so*

/usr/lib/x86_64-linux-gnu/libEGL_nvidia.so.0@  /usr/lib/x86_64-linux-gnu/libEGL_nvidia.so.560.35.03


wget https://upload.wikimedia.org/wikipedia/commons/transcoded/6/6c/Polar_orbit.ogv/Polar_orbit.ogv.360p.webm
mpv --gpu-context=gbm --vo=gpu Polar_orbit.ogv.360p.webm
mpv --gpu-context=gbm --vo=gpu 

https://github.com/mpv-player/mpv

í—‰ ë‚´ê°€ sudo apt ìœ¼ë¡œ ì„¤ì¹˜í–‡ê±°ë“ ?

â¯ mpv --version

mpv v0.38.0-dirty Copyright Â© 2000-2024 mpv/MPlayer/mplayer2 projects
 built on Aug 21 2024 19:24:58
libplacebo version: v6.338.2
FFmpeg version: 7.0.2
FFmpeg library versions:
   libavutil       59.8.100
   libavcodec      61.3.100
   libavformat     61.1.100
   libswscale      8.1.100
   libavfilter     10.1.100
   libswresample   5.1.100

meson setup build --enable-vulkan --enable-gbm
# meson.build:22:13: ERROR: Dependency "libavcodec" not found, tried pkgconfig and cmake

rosrun bot3_kccistic_service gpio_client 10 20


apt-cache search gmapping



  
    




http://wiki.ros.org/gmapping
  https://github.com/ros-perception/slam_gmapping


rosrun rviz rviz -d (rospack find turtlebot3_description)/rviz/model.rviz


â“ docker-composeë¡œ Devcontainer ì„¤ì •

  >> ë¬¸ì œê°€ ì´ê²Œ ê°œë°œì´ ì™„ë£Œë˜ì—‡ì„ ë•Œ, (ì‹¤ì œ í”„ë¡œë•ì…˜ í™˜ê²½ì—ëŠ” docker ê°€ ì•„ë‹Œ í”Œë«í¼ì„ ì‚¬ìš©í•´ì•¼í• ì§€ë¼ë„), ê¸°ê¸° ìì²´ì—ì„œ í”„ë¡œë•ì…˜ ì „ í…ŒìŠ¤íŠ¸ë¥¼ í•´ë³´ì•¼ì•„ í•¨.
    ê·¼ë° devcontainer ì—ì„œ Dockerfile ì„ ì‚¬ìš©í•˜ì—¬ Reopen in Devcontainer ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì—¬ ê°œë°œì€ í• ì§€ë¼ë„, í…ŒìŠ¤íŠ¸ ì‹œ VSCODE ì—†ì´ ì‹¤í–‰ë˜ì–´ì•¼ í•¨ (VSCODE ê°€ ë©”ëª¨ë¦¬ë¥¼ ë§ì´ ì ìœ í•˜ê¸° ë•Œë¬¸. ë¶ˆí•„ìš”í•¨.)

  ê·¸ëŸ´ ê²½ìš°ë¥¼ ëŒ€ë¹„í•´ì„œ docker compose ë¥¼ ì‚¬ìš©í•˜ë ¤ê³  í•¨. ì´ëŠ” ~. .. ì¼ê´€ì„±ì„ ìœ ì§€í•  ìˆ˜ ìˆìŒ.

docker-composeë¡œ Devcontainer ì„¤ì •

ë¬¸ì œ ì •ì˜
  ê°œë°œì´ ì™„ë£Œëœ í›„, í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” Dockerê°€ ì•„ë‹Œ ë‹¤ë¥¸ í”Œë«í¼ì„ ì‚¬ìš©í•  ê°€ëŠ¥ì„±ì´ ìˆë”ë¼ë„, ê¸°ê¸° ìì²´ì—ì„œ í”„ë¡œë•ì…˜ í™˜ê²½ê³¼ ìœ ì‚¬í•œ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•´ì•¼ í•œë‹¤.
  í•˜ì§€ë§Œ ê°œë°œ ì¤‘ì—ëŠ” VS Codeì˜ Devcontainer ê¸°ëŠ¥(Reopen in Devcontainer)ì„ ì‚¬ìš©í•˜ì—¬ íš¨ìœ¨ì ìœ¼ë¡œ ì‘ì—…ì„ ì§„í–‰í•  ìˆ˜ ìˆë‹¤.
í…ŒìŠ¤íŠ¸ ë‹¨ê³„ì—ì„œëŠ” VS Codeë¥¼    ì¢…ë£Œí•œ ìƒíƒœì—ì„œ ì»¨í…Œì´ë„ˆë¥¼ ë…ë¦½ì ìœ¼ë¡œ ì‹¤í–‰í•´ì•¼ í•œë‹¤. (VS CodeëŠ” ë©”ëª¨ë¦¬ë¥¼ ë§ì´ ì ìœ í•˜ê³ , í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œëŠ” ë¶ˆí•„ìš”í•˜ê¸° ë•Œë¬¸)

í•´ê²°ì±…
  Docker Compose ì‚¬ìš©
    Docker Composeë¥¼ í†µí•´ ê°œë°œ ë° í…ŒìŠ¤íŠ¸ í™˜ê²½ì˜ ì¼ê´€ì„±ì„ ìœ ì§€í•  ìˆ˜ ìˆë‹¤.
    VS Code Devcontainerì—ì„œëŠ” Docker Composeë¥¼ í™œìš©í•´ í•„ìš”í•œ ì„œë¹„ìŠ¤ë¥¼ ì •ì˜í•˜ê³ , íŠ¹ì • ì»¨í…Œì´ë„ˆë¥¼ ê°œë°œ í™˜ê²½ìœ¼ë¡œ ì—´ ìˆ˜ ìˆë‹¤.
    í…ŒìŠ¤íŠ¸ ë‹¨ê³„ì—ì„œëŠ” Docker Composeë¥¼ ì‚¬ìš©í•´ ë…ë¦½ì ìœ¼ë¡œ ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•˜ë©°, VS Codeì™€ ë¶„ë¦¬ëœ í™˜ê²½ì—ì„œë„ ë™ì‘ì„ ë³´ì¥í•  ìˆ˜ ìˆë‹¤.


ì¥ì 
  í™˜ê²½ ì¼ê´€ì„±
    ê°œë°œ í™˜ê²½ê³¼ í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œ ë™ì¼í•œ docker-compose.yml êµ¬ì„±ì„ ì‚¬ìš©í•´ ì„¤ì •ê³¼ ë™ì‘ì˜ ì¼ê´€ì„±ì„ ìœ ì§€í•  ìˆ˜ ìˆë‹¤.
  ìœ ì—°ì„±
    VS Codeê°€ ì—†ì–´ë„ ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, í…ŒìŠ¤íŠ¸ ë° í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ë¶ˆí•„ìš”í•œ ë¦¬ì†ŒìŠ¤ë¥¼ ì¤„ì´ê³  íš¨ìœ¨ì„±ì„ ê·¹ëŒ€í™”í•  ìˆ˜ ìˆë‹¤.
  í™•ì¥ ê°€ëŠ¥ì„±
    Docker ComposeëŠ” ì—¬ëŸ¬ ì„œë¹„ìŠ¤ë¥¼ ì‰½ê²Œ ì •ì˜í•˜ê³  ê´€ë¦¬í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, í…ŒìŠ¤íŠ¸ ì¤‘ í•„ìš”í•œ ì¶”ê°€ ì„œë¹„ìŠ¤ë¥¼ ì†ì‰½ê²Œ í¬í•¨í•  ìˆ˜ ìˆë‹¤.




!!! OTA firmware !!!! ë²½ ì†ì— ìˆë”ë¼ë„ ê°€ëŠ¥í•˜ë„ë¡.. OTA í”„ë¡œê·¸ë¨?.. ì–´ë–»ê²Œ?


Turtlebot User LED:
  A- > 24ë²ˆ, 
  A- > 25ë²ˆ, 

iot_server/iot_socket


socket client í”„ë¡œí† ì½œì„ .. ROS ë¡œ ë„˜ê¸°ê¸°. 

linux_c/iot_server/iot_socket$ ./iot_server 5000
KSH_ROS..

>>>> í†µì‹ 
  roscore, bringup, iot_server
rosrun bot3_kccistc_service gpio_socketToRos 127.0.0.1 5000 KSH_ROS
rosrun ./navi.sh >> Naivgation; ?


https://emanual.robotis.com/assets/docs/LDS_Basic_Specification.pdf
  Angle offset?..
    1,, 2. 3.. 4.. ?
    hls/lfcd_lds_driver/application/lds_driver


> ì¡ì½”ë¦¬ì•„ë¥¼ ë³´ì. ì‚¬ëŒì¸ ë§ê³ . 
í–¥í›„ ì „ë§ì´ "ìˆ˜ì¹˜"ì ìœ¼ë¡œ ì–´ë–»ê²Œ ë  ê±´ì§€ë„ ì–¸ê¸‰í•´ì•¼ í•œë‹¤.. ìê¸°ì†Œê°œì„œ.. ?


https://github.com/ROBOTIS-GIT/hls_lfcd_lds_driver/blob/noetic-devel/applications/lds_polar_graph/lds_polar_graph.pro

rospack find sensor_msgs

rosrun turtlesim turtlesim_node
rosrun turtlesim turtle_teleop_key




1.í„°í‹€ë´‡ ì†ŒìŠ¤ íŒ¨í‚¤ì§€ ì„¤ì¹˜(í•„ìš”ì‹œ) - rasberry pi
------------------------------------
# workspaceì˜ src í´ë”ë¡œ ì´ë™
$ cd:~/catkin_ws/src
ë¹Œë“œ í•„ìš” íŒ¨í‚¤ì§€ ì„¤ì¹˜
$sudo apt install ros-noetic-urdf-geometry-parser  ros-noetic-interactive-markers ros-noetic-xacro
ì†ŒìŠ¤ ë‹¤ìš´ë¡œë“œ
ê¸°ì¡´ turtlebot3 ë””ë ‰í† ë¦¬ ì‚­ì œ í›„ ë‹¤ìš´ë¡œë“œ
$ git clone -b noetic https://github.com/ROBOTIS-GIT/turtlebot3.git
ë¹Œë“œ
$ cm
$roslaunch turtlebot3_bringup turtlebot3_robot.launch


2.LDS driver ì„¤ì¹˜
$ ë‹¤ìš´ë¡œë“œ https://github.com/ROBOTIS-GIT/hls_lfcd_lds_driver/tree/noetic-devel
$ git clone -b noetic --single-branch https://github.com/ROBOTIS-GIT/hls_lfcd_lds_driver.git
$ cd ~/catkin_ws/src/hls_lfcd_lds_driver/applications/lds_driver
lds_driver$ make
lds_driver$ ./lds_driver

LDS publisher ì‹¤í–‰
$ roslaunch hls_lfcd_lds_driver hlds_laser.launch


git clone -b noetic --single-branch https://github.com/ROBOTIS-GIT/hls_lfcd_lds_driver.git ~/hls_lfcd_lds_driver



////////////////// í„°í‹€ë´‡ì—ì„œ 
>>> roslaunch hls_lfcd_lds_driver hlds_laser.launch



git clone -b noetic --single-branch https://github.com/ROBOTIS-GIT/hls_lfcd_lds_driver.git ~/hls_lfcd_lds_driver
cd ~/hls_lfcd_lds_driver


cd applications/lds_driver
make
// í…ŒìŠ¤íŠ¸
./lds_driver


í¼ë¸”ë¦¬ì…” ìš©ë„ì™€
ë ˆì´ë” ëŒë¦¬ëŠ” ìš©ë„



src/hls_lfcd_lds_driver/src/hlds_laser_publisher.cpp

https://docs.ros.org/en/noetic/api/sensor_msgs/html/msg/LaserScan.html
https://github.com/ROBOTIS-GIT/hls_lfcd_lds_driver

catkin build hls_lfcd_lds_driver

  find_package(catkin REQUIRED COMPONENTS
    roscpp
    std_msgs  
    sensor_msgs
    # âš™ï¸
    oroca_ros_tutorials 
  )

  catkin_package(
    INCLUDE_DIRS include
    # âš™ï¸ oroca_ros_tutorials
    CATKIN_DEPENDS roscpp std_msgs sensor_msgs oroca_ros_tutorials
    DEPENDS Boost
  )


ì•ˆë…•í•˜ì‹­ë‹ˆê¹Œ
  

----------------
----------------
----------------
----------------
2. cJSON ì‚¬ìš© ì‹œ ìµœì í™”
  cJSONì€ ì‚¬ìš©ì´ ê°„ë‹¨í•˜ì§€ë§Œ, JSON í¬ê¸°ê°€ ì»¤ì§€ê±°ë‚˜ ë¦¬ì†ŒìŠ¤ê°€ ì œí•œëœ í™˜ê²½ì—ì„œëŠ” ì¶”ê°€ ìµœì í™”ê°€ í•„ìš”í•©ë‹ˆë‹¤.

  (1) ë™ì  í• ë‹¹ ê´€ë¦¬
  cJSONì€ ê¸°ë³¸ì ìœ¼ë¡œ ë™ì  ë©”ëª¨ë¦¬ í• ë‹¹(malloc)ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
  STM32ì™€ ê°™ì€ ì œí•œëœ í™˜ê²½ì—ì„œëŠ” ë™ì  í• ë‹¹ ëŒ€ì‹  ì •ì  ë©”ëª¨ë¦¬ í• ë‹¹ìœ¼ë¡œ ì „í™˜í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.
# https://kjt9109.tistory.com/entry/NanoPB-Stm32
  NanoPbë¥¼ STM32ì— ì ìš©ì‹œì¼œë³´ì 
    â— âš“ NanoPb ; https://github.com/nanopb/nanopb
    -> Protobufë¥¼ Embedded Systemì— ì ìš©í•˜ê¸° ìœ„í•´ Cê¸°ë°˜ ê²½ëŸ‰í™”ë¡œ ë‚˜ì˜¨ í”„ë¡œí† ì½œì„ NanoPbë¼ê³  í•œë‹¤.
Mariadb
  https://mariadb.com/kb/en/create-table/#comment-column-option
  1. ENGINE=InnoDB
    InnoDBëŠ” MariaDBì™€ MySQLì—ì„œ ì‚¬ìš©ë˜ëŠ” ì €ì¥ ì—”ì§„ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.
    íŠ¹ì§•:
      íŠ¸ëœì­ì…˜ ì§€ì›: ë°ì´í„° ì¼ê´€ì„±ê³¼ ë¬´ê²°ì„±ì„ ë³´ì¥.
      ì™¸ë˜í‚¤(Foreign Key) ì§€ì›: ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ì— í•„ìˆ˜.
      ì¶©ëŒ íšŒë³µ: ì˜ˆê¸°ì¹˜ ì•Šì€ ì¢…ë£Œ ì‹œ ë°ì´í„° ë³µêµ¬ ê°€ëŠ¥.
      í–‰ ìˆ˜ì¤€ ì ê¸ˆ(Row-level Locking): ë™ì‹œì„±ì„ ë†’ì´ê³  ì„±ëŠ¥ì„ ê°œì„ .
    ìµœê·¼ ì¶”ì„¸:
      2025ë…„ ê¸°ì¤€ MariaDBì™€ MySQLì—ì„œ ê¸°ë³¸ ì €ì¥ ì—”ì§„ìœ¼ë¡œ InnoDBê°€ ì‚¬ìš©ë©ë‹ˆë‹¤.
      ì´ìœ : ë†’ì€ ì•ˆì •ì„±ê³¼ ì„±ëŠ¥.
  2. DEFAULT CHARSET=utf8mb4
    **ë¬¸ìì…‹(Character Set)**ì€ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ë  ë¬¸ìì˜ ì¸ì½”ë”© í˜•ì‹ì„ ì •ì˜í•©ë‹ˆë‹¤.

    utf8mb4:
      **ìœ ë‹ˆì½”ë“œ(UTF-8ì˜ í™•ì¥ ë²„ì „)**ë¥¼ ì§€ì›í•˜ë©°, 4ë°”ì´íŠ¸ ë¬¸ìê¹Œì§€ ì €ì¥ ê°€ëŠ¥.
      ì´ëª¨ì§€, í•œê¸€, íŠ¹ìˆ˜ ë¬¸ì ë“± ë‹¤ì–‘í•œ ë¬¸ìë¥¼ ì™„ë²½íˆ ì§€ì›.
      utf8mb4ëŠ” ê¸°ì¡´ utf8ê³¼ ë‹¬ë¦¬ ì´ëª¨ì§€(ğŸ˜Š ë“±) ë° ì¶”ê°€ ìœ ë‹ˆì½”ë“œ ë¬¸ìë¥¼ ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      ì™œ utf8mb4ë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ë‚˜?
    MariaDBì˜ ê¸°ì¡´ utf8ì€ ìµœëŒ€ 3ë°”ì´íŠ¸ë§Œ ì§€ì›í•˜ì—¬ ì¼ë¶€ ìœ ë‹ˆì½”ë“œ ë¬¸ìë¥¼ ì²˜ë¦¬í•˜ì§€ ëª»í•©ë‹ˆë‹¤.
    ìµœì‹  ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ì—ì„œëŠ” ê¸°ë³¸ ë¬¸ìì…‹ìœ¼ë¡œ utf8mb4ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ í‘œì¤€
  3. utf8mb4_unicode_ci: ëŒ€ì†Œë¬¸ì êµ¬ë¶„ ì—†ì´ ìœ ë‹ˆì½”ë“œ í‘œì¤€ì— ë”°ë¼ ë¬¸ìì—´ ë¹„êµ ë° ì •ë ¬.
    Collation
ğŸ¤” cJSON ì‚¬ìš©? ë™ì ì´ë¼ ì„ë² ë””ë“œì—ì„œëŠ” ì„±ëŠ¥ë¬¸ì œ.. ê°€ì¥ ìµœê·¼ ë¦´ë¦¬ì¦ˆ 2024-05-13 ; https://github.com/DaveGamble/cJSON
  JSMN?.. ..íŒŒì‹±ë§Œ ê°€ëŠ¥..
  >> https://github.com/nanopb/nanopb
    https://formulae.brew.sh/formula/protobuf
â“  
  íƒë°° 

***** Agile
* ì´ê±° ì„œë²„ì—ì„œ tutlrebot

* ì‹œë‚˜ë¦¬ì˜¤ êµ¬ì²´í™”: Draft ğŸ“… 2025-01-24 00:03:23
  ë…¸ë“œ
      íƒë°°ê¸°ì‚¬
      ë¬´ì¸ë³´ê´€í•¨ (íƒë°° ì €ì¥ì†Œ)
      ì‚¬ìš©ì
      ì¤‘ì•™ ì„œë²„
      ë°°ë‹¬ ë¡œë´‡
      ì—˜ë ˆë² ì´í„°

  ğŸ“ Note
    - ê° ë…¸ë“œëŠ” ìƒëŒ€ ë…¸ë“œë¡œë¶€í„° ëª…ë ¹ì„ ìˆ˜ì‹ ë°›ì•˜ì„ ë•Œ, "ì„±ê³µì "ìœ¼ë¡œ ìˆ˜ì‹  ë°›ì•˜ìŒì„ ì‚¬ëŒ€ ë…¸ë“œì—ê²Œ ì•Œë ¤ì•¼ í•œë‹¤. (ACK) ê·¸ ì´í›„ì— ë‹¤ìŒ ì ˆì°¨ë¥¼ ì§„í–‰í•´ì•¼ í•¨.
    - ì¤‘ì•™ ì„œë²„ëŠ” ROS ì„œë²„ì™€ ì¼ë°˜ ì†Œì¼“ ì„œë²„ë¥¼ ì˜ë¯¸í•œë‹¤.
      - í„°í‹€ë´‡ê³¼ í†µì‹ í•˜ëŠ” ì„œë²„ëŠ” ROS Master ì„œë²„ì´ë‹¤. (Action ë°©ì‹)
      - ROS Master ì„œë²„ëŠ” ë¼ì¦ˆë² ë¦¬íŒŒì´ì˜ ì†Œì¼“ ì„œë²„ì— ì˜í•œ ì œì–´ë¥¼ ë°›ëŠ”ë‹¤.
      

  <ì‹œë‚˜ë¦¬ì˜¤>
    1. íƒë°° ë³´ê´€
      - [íƒë°°ê¸°ì‚¬] ë¬´ì¸ë³´ê´€í•¨ì— íƒë°° ë³´ê´€
      - [ë¬´ì¸ë³´ê´€í•¨] ì„œë²„ì— íƒë°° ë„ì°© ì•Œë¦¼ (OCR)      // ì„œë²„ëŠ” ì´ ê°’ì„ DB ì— ì €ì¥.

    2. íƒë°° ì „ë‹¬
      - [ì‚¬ìš©ì] ì„œë²„ì—ê²Œ ì‚¬ìš©ìì—ê²Œë¡œ íƒë°° ë°°ì†¡ ëª…ë ¹ ì „ë‹¬
        - [ì„œë²„] ë¬´ì¸ë³´ê´€í•¨ì— ë°°ë‹¬ ë¡œë´‡ì— íƒë°° ì ì¬ ëª…ë ¹    // ì–´ëŠ ë°°ë‹¬ ë¡œë´‡ì—ê²Œ ëª…ë ¹ì„ ì£¼ëŠ”ì§€ëŠ” ì„œë²„ì—ì„œ ê´€ë¦¬. â“ ë§Œì•½ íƒë°°ë¡œë´‡ì´ 2ëŒ€ ì´ìƒì´ë¼ë©´, íƒë°°ë¡œë´‡ ìë™ì •ë ¬ ê¸°ëŠ¥ì´ ë“¤ì–´ê°€ì•¼ í• ìˆ˜ë„
          - [ë¬´ì¸ë³´ê´€í•¨] ë°°ë‹¬ ë¡œë´‡ ìœ„ì— íƒë°° ì ì¬
          - [ë°°ë‹¬ ë¡œë´‡] ğŸš¥ ì„œë²„ì—ê²Œ íƒë°° ì •ìƒì ìœ¼ë¡œ ì ì¬ë¨ ì „ë‹¬. ì´ë²¤íŠ¸ ê¸°ë°˜.    // ì„¼ì„œë¡œ ì ì¬ ê°ì§€ (e.g. ì ì™¸ì„  ì„¼ì„œ)

        - [ì„œë²„] ë°°ë‹¬ ë¡œë´‡ì—ê²Œ íƒë°° ë°°ì†¡ ì§€ì‹œ             // ì–´ëŠ ì£¼ì†Œì˜ ì—˜ë ˆë² ì´í„°ë¡œ ì´ë™í•  ê²ƒì¸ì§€ í•¨ê»˜ ì „ë‹¬
          - [ë°°ë‹¬ ë¡œë´‡] ì—˜ë ˆë² ì´í„° ì•ìœ¼ë¡œ ì´ë™ í›„, ğŸš¥ ì„œë²„ì— ìì‹ ì˜ ë„ì°© ìƒíƒœ ì „ë‹¬.

        
        - [ì„œë²„] ì—˜ë ˆë² ì´í„°ì—ê²Œ 1ì¸µ ë„ì°© ëª…ë ¹             // ì˜ˆì™¸ ì²˜ë¦¬. ë°°ë‹¬ì§€ê°€ 1ì¸µì¸ ê²½ìš°. ì—˜ë ˆë² ì´í„° ë…¸ë“œì™€ì˜ í†µì‹ ì€ í•„ìš” ì—†ë‹¤. ë‹¤ë¥¸ ì•Œê³ ë¦¬ì¦˜ í•„ìš”.
          - [ì—˜ë ˆë² ì´í„°] 1ì¸µìœ¼ë¡œ ì´ë™ ë° ë¬¸ ê°œë°© ëª…ë ¹ ìˆ˜ì‹ , ğŸš¥ ì„œë²„ì— ìì‹ ì˜ ë„ì°© ìƒíƒœ ë° ë¬¸ ê°œí ì—¬ë¶€ ì „ë‹¬.    // ì—˜ë ˆë² ì´í„° ë…¸ë“œëŠ” ê° ëª…ë ¹ì„ ì°¨ë¡€ëŒ€ë¡œ ë°›ê³ , "ì´ë™" ì´ ì™„ì „íˆ ëë‚œ ë‹¤ìŒì— "ê°œë°©" ì„ í•´ì•¼ í•œë‹¤.

        - ğŸ…°ï¸ [ì„œë²„] ì—˜ë ˆë² ì´í„°ì™€ ë°°ë‹¬ ë¡œë´‡ ê°„ì˜ ë™ê¸°í™”.
          - [ì—˜ë ˆë² ì´í„°] ë°°ë‹¬ ë¡œë´‡ì´ ì—˜ë ˆë² ì´í„°ì— ë“¤ì–´ê°ˆ ë•Œê¹Œì§€ â²ï¸ ì„œë²„ë¡œë¶€í„° ë¬¸ ê°œë°© ëª…ë ¹ì„ ì£¼ê¸°ì ìœ¼ë¡œ ë°›ìŒ
          - [ë°°ë‹¬ ë¡œë´‡] ì„œë²„ë¡œë¶€í„° ì—˜ë ˆë² ì´í„° ì•ˆìœ¼ë¡œ ì´ë™ ëª…ë ¹ì„ ë°›ê³  ì´ë™. ğŸš¥ ì´ë™ í›„ ì„œë²„ì— ë°°ë‹¬ ë¡œë´‡ ë„ì°© ìƒíƒœ ì „ë‹¬.
          - [ì—˜ë ˆë² ì´í„°] ì„œë²„ë¡œë¶€í„° íë¬¸ ëª…ë ¹ì„ ë°›ìŒ.       // ë‹¤ë¥¸ ì‚¬ëŒë“¤ì´ í•¨ê»˜ íƒˆ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— íë¬¸ ëª…ë ¹ì€ í•œ ë²ˆë§Œ ë‚´ë ¤ì•¼ í•œë‹¤.
            ì´í›„ ğŸš¥ ë¬¸ì´ ë‹«íˆë©´, ì„œë²„ì— ìì‹ ì˜ ìƒíƒœ ì „ë‹¬. ë™ì‹œì— í•´ë‹¹ ì¸µìˆ˜ë¡œ ì´ë™.
            ì´í›„ ğŸš¥ í•´ë‹¹ ì¸µìˆ˜ì— ë„ì°©í•˜ê³  ë¬¸ì´ ì—´ë¦¬ë©´, ì„œë²„ì— ìì‹ ì˜ í˜„ì¬ ì¸µìˆ˜ì™€ ë¬¸ ê°œí ìƒíƒœ ì „ë‹¬.  // "ë„ì°©" ìƒíƒœ ë³€ê²½ì´ ë¨¼ì €ì´ë¯€ë¡œ ë„ì°© ìƒíƒœ, ì¸µìˆ˜ ìƒíƒœ ìˆœì„œë¡œ ë³´ë‚´ì•¼ í•œë‹¤. ê·¸ë¦¬ê³  ì´ ê²½ìš°ëŠ”, ì„œë²„ë¡œë¶€í„° ê°œë°© ëª…ë ¹ì„ ë°›ì•„ì„œ ì—´ë¦¬ëŠ” ê²ƒì´ ì•„ë‹ˆì—¬ì•¼ í•œë‹¤.
          - [ì—˜ë ˆë² ì´í„°] ë°°ë‹¬ ë¡œë´‡ì´ íƒë°° ì£¼ì†Œ ì•ìœ¼ë¡œ ê°€ì„œ ë°°ë‹¬ì´ ëë‚˜ê³ , ë‹¤ì‹œ ì—˜ë ˆë² ì´í„° ìœ„ë¡œ ë“¤ì–´ê°ˆ ë•Œê¹Œì§€ â²ï¸ ì„œë²„ë¡œë¶€í„° ë¬¸ ê°œë°© ëª…ë ¹ì„ ì£¼ê¸°ì ìœ¼ë¡œ ë°›ìŒ
          - [ë°°ë‹¬ ë¡œë´‡] ì„œë²„ë¡œë¶€í„° íƒë°° ì£¼ì†Œ ì•ìœ¼ë¡œ ì´ë™ ëª…ë ¹ì„ ë°›ê³  ì´ë™.
            ì´í›„ ğŸš¥ ì‚¬ì§„ì„ ì°ì–´ì„œ ì„œë²„ì— ì „ë‹¬ í›„, ì„œë²„ë¡œë¶€í„° ì—˜ë ˆë² ì´í„°ë¡œ ì´ë™ ëª…ë ¹ì„ ë°›ìŒ.
          - [ì—˜ë ˆë² ì´í„°] ì„œë²„ë¡œë¶€í„° íë¬¸ ëª…ë ¹ì„ ë°›ìŒ.

    3. ë°°ë‹¬ ë¡œë´‡ ë³µê·€
      - ... ë°˜ëŒ€ë¡œ ê³¼ì • ì§„í–‰

    TODO: 
      NanoPB í†µì‹  í…ŒìŠ¤íŠ¸
      ì‹œë‚˜ë¦¬ì˜¤ êµ¬ì²´í™” ë° API ì‚¬ì–‘ ì •ë¦¬
      ROS ì•¡ì…˜ ë°©ì‹ ì‚¬ìš©ë°©ë²• ì¡°ì‚¬.
      ROS Master ì™€ ì†Œì¼“ ì„œë²„ê°„ í†µì‹  (IPC) í…ŒìŠ¤íŠ¸.
      êµ¬í˜„


  * DB ì‚¬ì–‘ ë° í†µì‹ ê·œê²© ì •ì˜: Draft 2
    * Requirements
      - ëŒ€ë¶€ë¶„ì˜ ëª¨ë“  í†µì‹ ì€ ì¤‘ì•™ ì„œë²„ì¸ ì´ ë¼ì¦ˆë² ë¦¬íŒŒì´ ì„œë²„ë¥¼ ê±°ì¹˜ë„ë¡ í•œë‹¤.
      - Database ì—ëŠ” "í•œê¸€" (ìœ ë‹ˆì½”ë“œ) ë¬¸ìë¥¼ ì €ì¥í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.
      - ê° ë…¸ë“œë¡œë¶€í„° ë©”ì‹œì§€ë¥¼ ë°›ê³  ë°ì´í„°ì™€ í•¨ê»˜ ìƒíƒœë¥¼ ë°›ì•„ì•¼ í•˜ë©°, ì²˜ë¦¬ê²°ê³¼ì— ëŒ€í•œ ìƒíƒœë¥¼ í•¨ê»˜ ì „ë‹¬í•´ì£¼ì–´ì•¼ í•œë‹¤.
      - ê³ ê¸‰ ì„ë² ë””ë“œ ì¥ì¹˜ì¸ ë¼ì¦ˆë² ë¦¬íŒŒì´, ì•„ë‘ì´ë…¸ ë¿ ì•„ë‹ˆë¼, ìì›ì´ ì œí•œì ì¸ STM32 ì—ì„œë„ ì„±ëŠ¥ ë¬¸ì œ ì—†ì´ ì‘ë™í•´ì•¼ í•œë‹¤.
      - ROS 1 noetic í™˜ê²½ì—ì„œë„ í˜¸í™˜ì„±ì„ ë³´ì¥í•´ì•¼ í•œë‹¤.

      command := ["get", "set", "create", "read" "update", "delete", ...]
        ğŸ“ CRUD (create, read, update, delete) ëŠ” DB ì— ëŒ€í•œ Query. ê·¸ ì™¸ì—ëŠ” ë©”ëª¨ë¦¬ì—ì„œë§Œ ìœ ì§€ë˜ëŠ” ì •ë³´ì— ëŒ€í•œ ì¿¼ë¦¬.

    *ğŸ§ª Optimization
      - Maximum Message Size is 1460 bytes
        Ethernet Frame Total Size = 1518 bytes
          - Ethernet MTU (1500 bytes)
          + Ethernet Header (14 bytes)
          + FCS (Footer) (4 bytes)              // Frame Check Sequence
          --------------------------------------
          Total = 1518 bytes (Maximum Ethernet Frame Size)

        TCP MSS (Maximum Segment Size) = 1460 bytes
          - Ethernet MTU (1500 bytes)
          - IP Header (20 bytes)
          - TCP Header (20 bytes)
          --------------------------------------
          TCP MSS = 1460 bytes (Maximum Application Data Size)
      - ğŸ›ï¸ e.g. 289 bytes for the message format (including whitespaces)
        {
          "source": "client_name",
          "destination": "target_name",
          "command": "command_name",
          "payload": {
            "key1": "value1",
            "key2": "value2"
          },
          "links": [
            { "rel": "self", "href": "/api/current_state" },
            { "rel": "update", "href": "/api/update_state" }
          ]
        }


    2. í¬ë¡œìŠ¤ì»´íŒŒì¼ í™˜ê²½ êµ¬ì„± ë° í¬ë¡œìŠ¤ì»´íŒŒì¼, ë¼ì¦ˆë² ë¦¬íŒŒì´ì—ì„œ ì§ì ‘ í…ŒìŠ¤íŠ¸.


Node
  n * Rasberry Pi 3 (Turtlebot)
    [ì£¼ë³€ì¥ì¹˜]: ì»¨ë² ì´ì–´ë°¸íŠ¸, ì„¼ì„œ, ì¹´ë©”ë¼
    [ë„ì°© ì •ë³´]: ë¬´ì¸íƒë°°í•¨ì†Œ -> ì§‘ë°°ì†¡ì§€ ì´ë™
    [ì»¨ì—ì´ì–´ë²¨íŠ¸ í•˜ì°¨] on off
    [ì‚¬ì§„]
  n * íƒë°°ë³´ê´€ì¥ì†Œ
  n * ì—˜ë ˆë² ì´í„°
  n * ì•„íŒŒíŠ¸ xë™ yí˜¸
Communication
  Rasberry Pi server --> 

  
Database
â“ Q&A
  ì†Œì¼“ í†µì‹ ìœ¼ë¡œ ì—°ê²°ëœ í´ë¼ì´ì–¸íŠ¸ì˜ ì¥ì¹˜ OS ì´ë¦„ì„ ì•Œ ìˆ˜ ìˆëŠ”ê°€?
    X. ê³ ìˆ˜ì¤€ í†µì‹ ì˜ ì›¹ ì„œë²„/í´ë¼ì´ì–¸íŠ¸ êµ¬ì¡°ì˜ ê²½ìš° HTTP í—¤ë”ë¡œë¶€í„° ì•Œ ìˆ˜ ìˆì§€ë§Œ ì €ìˆ˜ì¤€ì˜ ì†Œì¼“ í†µì‹ ì—ì„œëŠ” ì•Œ ìˆ˜ ì—†ë‹¤.
Network socket

[í„°í‹€ë´‡]
	1. í•˜ë“œì›¨ì–´ ì œì‘
	- ë¼ì¦ˆë² ë¦¬íŒŒì´ 3B+ + OpenCR + ì»¨ë² ì´ì–´ë°¸íŠ¸ + ì„¼ì„œ + ì¹´ë©”ë¼
	- í”Œë ˆì´íŠ¸ë¡œ í˜•ìƒ ë³€ê²½
	2. S/W í™˜ê²½ ì…‹íŒ…
	- ë¼ì¦ˆë² ë¦¬íŒŒì´ 3B
	- OpenCR
	- ì„¼ì„œ & ì¹´ë©”ë¼
	3. ê¸°ëŠ¥ êµ¬í˜„
	- ë¬´ì¸íƒë°°í•¨ì†Œ -> ì§‘ë°°ì†¡ì§€ ì´ë™
	- ëª©ì ì§€ì—ì„œ ì»¨ë² ì´ì–´ë°¸íŠ¸ë¡œ ë¬¼í’ˆ í•˜ì°¨
	- ë°°ì†¡ì™„ë£Œ ì‚¬ì§„ ì´¬ì˜ & ì „ì†¡
[ì„œë²„]
	1. Namespace ê·œê²© ì‘ì„±
    - DB í…Œì´ë¸” ì„¤ê³„
	 - ì†Œì¼“í†µì‹  ê·œê²© ì„¤ê³„
	 - ROS namespace
	
	ã€€
[ì—˜ë ˆë² ì´í„°]
	1. í•˜ë“œì›¨ì–´ ì œì‘
	ì•„íŒŒíŠ¸ ë™ ìœ ë¦¬ í˜„ê´€ë¬¸ ë‚´ë¶€ í¼ë³´ë“œ ì œì‘
	ESP32 + ëª¨í„° + 7-Segment
	<í¼ë³´ë“œ - ê³„ë‹¨ì‹ ì•„íŒŒíŠ¸ í˜•íƒœ>
	- ì—˜ë ˆë² ì´í„°
	- ì§‘ 1í˜¸/2í˜¸
	2. ì—˜ë ˆë² ì´í„° ê¸°ëŠ¥
	- ë¬¸ ê°œí: ëª¨í„° ì œì–´
	- ì¸µìˆ˜ í‘œì‹œ: ì„¸ê·¸ë¨¼íŠ¸ ì œì–´
	- ë©”ì¸ ì„œë²„ì— ì—˜ë ˆë² ì´í„° ì¸µìˆ˜ ì •ë³´ ì „ë‹¬
[ì§‘ í˜¸ìˆ˜]
	1. í•˜ë“œì›¨ì–´ ì œì‘
	
	
[íƒë°°ë³´ê´€ì¥ì†Œ]
	<Tab1>
	1. cctv ì˜ìƒ ì²˜ë¦¬
	- í”„ë ˆì„ ì²˜ë¦¬ ì½”ë“œ êµ¬í˜„
	2. AI ê°ì²´ì¸ì‹
	- AI ëª¨ë¸ ì„ ì •
	- AI í™˜ê²½ ì„¤ì •
	*AI - Python í˜¸í™˜ ë²„ì „ ì°¾ê¸°
	- AI ëª¨ë¸ í•™ìŠµ
	- íƒì§€ëœ ê°ì²´ ë°ì´í„° í™œìš© ê¸°ëŠ¥

  
[íƒë°°ë³´ê´€ì¥ì†Œ]
	<Tab1>
	1. íƒë°° ê¸°ì‚¬ë‹˜/ì£¼ë¯¼ ì‚¬ìš© ê¸°ëŠ¥
	- ë™/í˜¸ìˆ˜/íƒë°°í•¨ ë²ˆí˜¸ ì…ë ¥ UI
	*ë™/í˜¸ìˆ˜/í•¨ë²ˆí˜¸ ì •ë³´ ì €ì¥
	- íƒë°°í•¨ ì œì–´
	*ë¬¸ ëª¨í„° ì œì–´
	*ë°”ë‹¥ ì»¨ë² ì´ë„ˆ ì œì–´
	<Tab2>
	2. íƒë°°í•¨ ì„¤ì • ê¸°ëŠ¥
	- ì ‘ì†í•  ì„œë²„ ì •ë³´ ì…ë ¥
	- ì„œë²„-íƒë°°í•¨ ë°ì´í„° ì†¡ìˆ˜ì‹  ì½”ë“œ
	*íƒë°°í•¨ ì‚¬ìš© ì‹œ, í•´ë‹¹ í˜¸ìˆ˜ë¡œ ì •ë³´ ì „ì†¡

[ì›”íŒ¨ë“œ]
	3. ì£¼ë¯¼ ì§‘ ì›”íŒ¨ë“œ ê¸°ëŠ¥
- íƒë°°ë³´ê´€í•¨ ë‚´ íƒë°° ë„ì°© ì•Œë¦¼
	- ì§‘ë°°ì†¡ ë¡œë´‡ ë°°ë‹¬ ìš”ì²­
	- ì§‘ë°°ì†¡ ë„ì°© ì•Œë¦¼

[ì•„íŒŒíŠ¸ ë™ & ì—˜ë ˆë² ì´í„°]
	1. í•˜ë“œì›¨ì–´ ì œì‘
	ì•„íŒŒíŠ¸ ë™ ìœ ë¦¬ í˜„ê´€ë¬¸ ë‚´ë¶€ í¼ë³´ë“œ ì œì‘
	ESP32 + ëª¨í„° + 7-Segment
	<í¼ë³´ë“œ - ê³„ë‹¨ì‹ ì•„íŒŒíŠ¸ í˜•íƒœ>
	- ì—˜ë ˆë² ì´í„°
	- ì§‘ 1í˜¸/2í˜¸
	2. ì—˜ë ˆë² ì´í„° ê¸°ëŠ¥
	- ë¬¸ ê°œí: ëª¨í„° ì œì–´
	- ì¸µìˆ˜ í‘œì‹œ: ì„¸ê·¸ë¨¼íŠ¸ ì œì–´
	- ë©”ì¸ ì„œë²„ì— ì—˜ë ˆë² ì´í„° ì¸µìˆ˜ ì •ë³´ ì „ë‹¬



2.4GHz ëŒ€ì—­ì—ì„œì˜ ë¬´ì„  í†µì‹  ì†ë„ëŠ” ì—¬ëŸ¬ ìš”ì¸ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. 2.4GHz ëŒ€ì—­ì€ 802.11b/g/n ê·œê²©ì„ ì‚¬ìš©í•˜ë©°, ìµœëŒ€ ì†ë„ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:
  802.11b: ìµœëŒ€ 11 Mbps
  802.11g: ìµœëŒ€ 54 Mbps
  802.11n: ìµœëŒ€ 600 Mbps (ì´ë¡ ìƒ)

í•˜ì§€ë§Œ ì‹¤ì œ í™˜ê²½ì—ì„œëŠ” ê°„ì„­, ì‹ í˜¸ ê°•ë„, ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ ë“±ì˜ ìš”ì¸ìœ¼ë¡œ ì¸í•´ ì†ë„ê°€ ë” ë‚®ì•„ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, 802.11n ê·œê²©ì„ ì‚¬ìš©í•˜ì—¬ 100 Mbpsì˜ ì†ë„ë¡œ ì „ì†¡í•œë‹¤ê³  ê°€ì •í•´ë´…ì‹œë‹¤.
  100 Mbps = 100,000,000 bps
  51 KB = 51 * 8 * 1024 = 417,792 bits
  ì „ì†¡ ì‹œê°„ = 417,792 bits / 100,000,000 bps â‰ˆ 0.0042ì´ˆ

ë”°ë¼ì„œ, ì´ìƒì ì¸ ì¡°ê±´ì—ì„œ 2.4GHz ëŒ€ì—­ì˜ 100 Mbps ë¬´ì„  í†µì‹  í™˜ê²½ì—ì„œëŠ” ì•½ 0.0042ì´ˆê°€ ê±¸ë¦½ë‹ˆë‹¤. ì‹¤ì œ í™˜ê²½ì—ì„œëŠ” ê°„ì„­, ì‹ í˜¸ ê°•ë„, ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ ë“±ì˜ ìš”ì¸ìœ¼ë¡œ ì¸í•´ ì „ì†¡ ì‹œê°„ì´ ë” ê¸¸ì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.




syntax = "proto3";

message Command {
  string source = 1;         // ë©”ì‹œì§€ ë³´ë‚¸ ë…¸ë“œ
  string destination = 2;    // ë©”ì‹œì§€ ë°›ì„ ë…¸ë“œ
  string command = 3;        // ëª…ë ¹ ì¢…ë¥˜ (e.g., "open_door")
  Payload payload = 4;       // ëª…ë ¹ì— í•„ìš”í•œ ë°ì´í„°
  string status = 5;         // ëª…ë ¹ ì²˜ë¦¬ ê²°ê³¼ (e.g., "OK", "ERROR")
}

message Payload {
  string key1 = 1;           // ì²« ë²ˆì§¸ ë°ì´í„° í‚¤
  string key2 = 2;           // ë‘ ë²ˆì§¸ ë°ì´í„° í‚¤
}

message Ack {
  string source = 1;         // ACKë¥¼ ë³´ë‚´ëŠ” ë…¸ë“œ
  string destination = 2;    // ACKë¥¼ ë°›ì„ ë…¸ë“œ
  string status = 3;         // ì„±ê³µ ì—¬ë¶€ (e.g., "success", "fail")

}



â“ ë©´ì ‘.. Redâ€“black tree (RB tree) (which epoll uses)
  .. ìê°€ ê· í˜• íŠ¸ë¦¬ì— ë¹„í•´ ì¥ì  + reconstructing, recoloring
  RB íŠ¸ë¦¬ì˜ ì‚¬ìš© ì‚¬ë¡€
    RB íŠ¸ë¦¬ëŠ” ì‚½ì…/ì‚­ì œ ì†ë„ê°€ ì¤‘ìš”í•˜ê³ , ì„±ëŠ¥ì˜ ì¼ê´€ì„±ì´ ìš”êµ¬ë˜ëŠ” ìƒí™©ì— ì í•©í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´:

      - ìš´ì˜ì²´ì œ: Linux ì»¤ë„ì˜ ğŸª± Completely Fair Scheduler(CFS)ëŠ” RB íŠ¸ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‘ì—… ìš°ì„ ìˆœìœ„ë¥¼ ê´€ë¦¬.
      - ë°ì´í„°ë² ì´ìŠ¤: ì‚½ì…ê³¼ ì‚­ì œê°€ ë¹ˆë²ˆí•œ íŠ¸ëœì­ì…˜ ì²˜ë¦¬.
      - ì–¸ì–´ í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬: Javaì˜ TreeMap ë° TreeSet, C++ì˜ std::mapê³¼ std::set.
  RB-Treeì˜ ì¥ì 
      ê· í˜• ìœ ì§€:

        ì¼ë°˜ì ì¸ ì´ì§„ íƒìƒ‰ íŠ¸ë¦¬ëŠ” íŠ¹ì • ì¡°ê±´ì—ì„œ í¸í–¥ëœ í˜•íƒœê°€ ë˜ì–´ 
        O(n)ì˜ íƒìƒ‰ ì‹œê°„ì´ ê±¸ë¦´ ìˆ˜ ìˆì§€ë§Œ, RB-TreeëŠ” ì´ë¥¼ ë°©ì§€í•´ 
        O(logn)ì˜ ì‹œê°„ ë³µì¡ë„ë¥¼ ë³´ì¥í•©ë‹ˆë‹¤.
        RB íŠ¸ë¦¬(Red-Black Tree)ì—ì„œ ì—°ì†ì ìœ¼ë¡œ ë…¸ë“œë¥¼ ì‚½ì…í•  ë•Œ, ì‚½ì…ë˜ëŠ” ìœ„ì¹˜ëŠ” í•­ìƒ **ì´ì§„ íƒìƒ‰ íŠ¸ë¦¬(BST)**ì˜ ê·œì¹™ì— ë”°ë¼ ê²°ì •ë©ë‹ˆë‹¤. êµ¬ì²´ì ìœ¼ë¡œ, ì‚½ì…í•˜ë ¤ëŠ” ê°’ì˜ í¬ê¸°ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë£¨íŠ¸ì—ì„œ ì‹œì‘í•´ ì¢Œìš° ìì‹ì„ íƒìƒ‰í•˜ë©° ìœ„ì¹˜ë¥¼ ì°¾ì•„ ë“¤ì–´ê°€ì•¼ í•©ë‹ˆë‹¤.

    ì‚½ì… ê³¼ì • ê°œìš”
    BST ê·œì¹™ì— ë”°ë¼ ìœ„ì¹˜ ê²°ì •:

    ì‚½ì…í•˜ë ¤ëŠ” ê°’ì´ í˜„ì¬ ë…¸ë“œë³´ë‹¤ ì‘ìœ¼ë©´ ì™¼ìª½ ì„œë¸ŒíŠ¸ë¦¬ë¡œ ì´ë™.
    ì‚½ì…í•˜ë ¤ëŠ” ê°’ì´ í˜„ì¬ ë…¸ë“œë³´ë‹¤ í¬ë©´ ì˜¤ë¥¸ìª½ ì„œë¸ŒíŠ¸ë¦¬ë¡œ ì´ë™.
    ë¦¬í”„ ë…¸ë“œ(ìì‹ì´ ì—†ëŠ” ë…¸ë“œ)ì— ë„ë‹¬í•˜ë©´ ê·¸ ìë¦¬ì— ìƒˆë¡œìš´ ë…¸ë“œë¥¼ ì‚½ì….
iot_server

  í˜„ì¬ ì½”ë“œì—ì„œ ì‚¬ìš©í•˜ëŠ” TCP/IP ì†Œì¼“
    í˜„ì¬ êµ¬í˜„:

      ì„œë²„ê°€ TCP ì†Œì¼“ì„ ìƒì„±í•˜ê³  í´ë¼ì´ì–¸íŠ¸ì˜ ì—°ê²°ì„ ê¸°ë‹¤ë¦½ë‹ˆë‹¤.
    í´ë¼ì´ì–¸íŠ¸ëŠ” ë°ì´í„°ë¥¼ ì„œë²„ë¡œ ì „ì†¡í•˜ë©°, ì„œë²„ëŠ” ë°ì´í„°ë¥¼ ì½ê³  ì‘ë‹µì„ ë³´ëƒ…ë‹ˆë‹¤.
    ë°ì´í„° ì „ì†¡ ê³¼ì •ì—ì„œ TCPê°€ ì „ì†¡ ì‹ ë¢°ì„±ì„ ë³´ì¥í•˜ë¯€ë¡œ, ë³„ë„ì˜ ì „ì†¡ ìƒíƒœ í™•ì¸ì´ í•„ìš”í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  íŠ¹ì§•:
    ì‹ ë¢°ì„± ë³´ì¥:
      ë°ì´í„°ê°€ ì†ì‹¤ë˜ë©´ TCPê°€ ìë™ìœ¼ë¡œ ì¬ì „ì†¡í•©ë‹ˆë‹¤.
      ë°ì´í„° ìˆœì„œë¥¼ ë³´ì¥í•˜ë¯€ë¡œ, ì• í”Œë¦¬ì¼€ì´ì…˜ ë ˆë²¨ì—ì„œ ë³„ë„ì˜ ë°ì´í„° ìˆœì„œ í™•ì¸ì´ í•„ìš” ì—†ìŠµë‹ˆë‹¤.
    ì—°ê²° ê¸°ë°˜:
      í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ê°„ ì—°ê²°ì„ ë§ºì€ ìƒíƒœì—ì„œ ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ìŠµë‹ˆë‹¤(accept()ë¡œ ì—°ê²°).


Status í•„ë“œê°€ í•„ìš”í•œ ê²½ìš°:
  ì• í”Œë¦¬ì¼€ì´ì…˜ ë ˆë²¨ì˜ ëª…ë ¹ ì²˜ë¦¬ ê²°ê³¼:
    í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ì— ëª…ë ¹ì„ ë³´ë‚´ê³ , ì„œë²„ê°€ ì´ ëª…ë ¹ì„ ì²˜ë¦¬í–ˆëŠ”ì§€ ëª…ì‹œì ìœ¼ë¡œ ì•Œë ¤ì¤˜ì•¼ í•˜ëŠ” ê²½ìš°.
    ì˜ˆ: í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ì— "ë¡œê·¸ì¸" ìš”ì²­ì„ ë³´ëƒˆì„ ë•Œ, ì„œë²„ê°€ "ì„±ê³µ", "ì‹¤íŒ¨" ìƒíƒœë¥¼ ë°˜í™˜í•´ì•¼ í•œë‹¤ë©´ status í•„ë“œê°€ í•„ìš”í•©ë‹ˆë‹¤.
      ì´ ê¸°ëŠ¥ì€ TCP ìì²´ë¡œ ì œê³µë˜ì§€ ì•Šìœ¼ë¯€ë¡œ, ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì§ì ‘ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤.

ìŒ.. ì´ê²Œ ë³´ë©´ ì´ë ‡ê²Œ ë…¸ë“œë“¤ê³¼ ì‹œë‚˜ë¦¬ì˜¤ê°€ ìˆì–´. ê° ë…¸ë“œê°€ ì¤‘ì•™ ì„œë²„ì— ì ‘ì†í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ê°€ ë  ê²ƒì¸ë°, ê° í´ë¼ì´ì–¸íŠ¸ë³„ë¡œ í˜„ì¬ ë°©ì‹ì¸ ì“°ë ˆë“œë³„ë¡œ ëª¨ë‘ í• ë‹¹í•˜ëŠ”ê±´ ë§ì´ ì•ˆë˜ë ¤ë‚˜?

ì‹¤ì œ ì´ ë°°ë‹¬ ì‹œìŠ¤í…œì—ì„œëŠ” hopme ì€ ì•„íŒŒíŠ¸ í˜¸ìˆ˜ë§ˆë‹¤ 1ê°œ(ì›”íŒ¨ë“œ) ê°€ í´ë¼ì´ì–¸íŠ¸ê°€ ë˜ê³  ê·¸ ì™¸ì—ë„ 
ë¬´ì¸ ì €ì¥ì†Œ, ì—˜ë ˆë² ì´í„°ë³„ë¡œ,  ë°°ë‹¬ë¡œë´‡ (í„°í‹€ë´‡) ì´ í´ë¼ì´ì–¸íŠ¸ê°€ ë í…ë°. ìˆ˜ë°± ìˆ˜ì²œì“°ë ˆë“œê°€ í•„ìš”í•œê±° ì•„ë‹ˆì•¼? ë‚´ ê¸°ì¡´ ì½”ë“œ ë°©ì‹ì´ë¼ë©´.



I. select í•¨ìˆ˜ì˜ ë‹¨ì 
ì•ì„œ selectë¥¼ ì„¤ëª…í•˜ë©° íŠ¹ì´í•œ ë¶€ë¶„ì´ ìˆì—ˆë‹¤.

ë°”ë¡œ selectë¥¼ í˜¸ì¶œí•´ì„œ ì‹œê·¸ë„ì„ ë³¼ ë•Œ fd_setì˜ ì›ë³¸ì´ ë³€ê²½ëœë‹¤ëŠ” ê²ƒì´ì—ˆë‹¤.
ë•Œë¬¸ì— ìš°ë¦¬ëŠ” selectë¥¼ í˜¸ì¶œí• ë•ŒëŠ” í•­ìƒ ë³µì‚¬ë³¸ì„ ì‚¬ìš©í–ˆì—ˆë‹¤.

í•˜ì§€ë§Œ ì´ê²ƒì€ selectê¸°ë°˜ì˜ IO ë©€í‹°í”Œë ‰ì‹±ì´ ëŠë¦° ì´ìœ ê°€ ëœë‹¤.

ë§¤ë²ˆ ìš´ì˜ì²´ì œì—ê²Œ ê´€ì°° ëŒ€ìƒì„ ì¸ìë¡œ ì „ë‹¬í•´ì•¼í•˜ê¸° ë•Œë¬¸ì´ë‹¤.

ë”°ë¼ì„œ ì´ëŸ° ê°œë…ì´ í•„ìš”í•˜ë‹¤

" ìš´ì˜ì²´ì œì—ê²Œ ê´€ì°°ëŒ€ìƒ ì •ë³´ë¥¼ ë”± í•œë²ˆ ì•Œë ¤ì£¼ê³ , ë³€í™”ê°€ ìˆì„ ë•Œë§Œ ë³€ê²½ ì‚¬í•­ë§Œ ì•Œë ¤ì£¼ë„ë¡ í•˜ì!!"
--> epoll



ì´ê±° ì œëª© ë­ë¡œ ë§Œë“¤ì§€.
  epoll + multi threading

ROs =


â¯ conan profile detect --force
detect_api: Found cc=gcc- 14.2.0
detect_api: gcc>=5, using the major as version
detect_api: gcc C++ standard library: libstdc++11

  Saving detected profile to /home/wbfw109v2/.conan2/profiles/default



[settings]
arch=x86_64
build_type=Release
compiler=gcc
compiler.cppstd=gnu17
compiler.libcxx=libstdc++11
compiler.version=14
os=Linux

[settings]
arch=x86_64
build_type=Release
compiler=apple-clang
compiler.cppstd=gnu17
compiler.libcxx=libc++
compiler.version=14
os=Macos


https://docs.conan.io/2/tutorial/consuming_packages/build_simple_cmake_project.html

We will generate those files in the folder build. 
ğŸ§® conan install . --output-folder=build --build=missing
Now we are ready to build and run our compressor app: ğŸ§®
  $ cd build
  $ cmake .. -DCMAKE_TOOLCHAIN_FILE=conan_toolchain.cmake -DCMAKE_BUILD_TYPE=Release
  $ cmake --build .


conanfile.txtÂ¶
  [requires]
  zlib/1.2.11
[tool_requires]
cmake/3.22.6

â— ì´ë ‡ê²Œ ì„¤ì¹˜í•œ cmake ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ install ì´í›„ì—
  $ cd build
  $ source conanbuild.sh
  Capturing current environment in deactivate_conanbuildenv-release-x86_64.sh
  Configuring environment variables
That is because Conan, if not instructed otherwise, will use a default configuration declared in the â€˜default profileâ€™. This default profile was created in the first example when we run the conan profile detect command
Conan stores this file in the /profiles folder, located in the Conan user home. You can check the contents of your default profile by running the conan config home command to get the location of the Conan user home and then showing the contents of the default profile in the /profiles folder:

ğŸ§®
  conan profile path default
  cat (conan profile path default)
  conan config home
  
ğŸ§® conan install . --build=missing --profile=default
  # --profile=default can be ommitted

cmake --preset conan-debug
cmake --build --preset conan-debug

  
Conan version: conan 2.7.0
â¯ conan --version
Conan version 2.11.0
Python version: Python 3.12.3



Conan -
  Library project
  Executable project

conan.txt
  https://docs.conan.io/2/reference/config_files/settings.html#reference-config-files-settings-yml
  compiler 

https://docs.conan.io/2/tutorial/consuming_packages/different_configurations.html#difference-between-settings-and-options
  ìë™ìœ¼ë¡œ #DEFINE ì¶”ê°€ë˜ëŠ”ë“¯? RELEASE ë©´
    int main(void) {
        ...
        #ifdef NDEBUG
        printf("Release configuration!\n");
        #else
        printf("Debug configuration!\n");
        #endif

        return EXIT_SUCCESS;
    }

â“ ë¬¸ìì—´ ì••ì¶•: https://github.com/conan-io/examples2/blob/main/tutorial/consuming_packages/different_configurations/src/main.c

  # Modifying options: linking the application dependencies as shared libraries
    ã„´conan install . --output-folder=build --build=missing --options=zlib/1.2.11:shared=True


Activate the virtual environment, and run the executables again:
  $ source conanrun.sh
  $ ./compressor
  Uncompressed size is: 233
  Compressed size is: 147
  https://github.com/conan-io/examples2/tree/main/tutorial/consuming_packages


 LD_LIBRARY_PATH=+(path)/home/linuxbrew/.linuxbrew/lib
ğŸ“ path ... https://docs.conan.io/2/reference/config_files/profiles.html#buildenv

cmake --preset conan-debug \
  -DCMAKE_EXE_LINKER_FLAGS="-L/home/linuxbrew/.linuxbrew/Cellar/llvm/19.1.7/lib /home/linuxbrew/.linuxbrew/Cellar/llvm/19.1.7/lib/libc++.so" 

â“â“â“â“ Conan embedded: https://dev.to/khozaei/conan-your-embedded-cross-compilation-champion-5bb9


default.. compiler..
  â¯ ls -l /usr/bin/c++
  lrwxrwxrwx 1 root root 21 Jul 23  2024 /usr/bin/c++ -> /etc/alternatives/c++*

  wbfw109v2 in ğŸŒ iot-04 in smart_pkg_system/central_server/iot_server on î‚  main [âœ˜!] via â–³ v3.31.5 via ğŸ v3.13.1 (central-server-py3.13) 
  â¯ ll /etc/alternatives/c++
  lrwxrwxrwx root root 12 B Tue Jul 23 18:00:56 2024 ï’ /etc/alternatives/c++ â‡’ /usr/bin/g

https://docs.conan.io/2/reference/config_files/global_conf.html#information-about-built-in-confs
ğŸ§® conan config list

  
âš“ Code sanitizer ; https://en.wikipedia.org/wiki/Code_sanitizer
  The class of tools was first introduced by Google's AddressSanitizer (or ASan) of 2012,

  clang++ -fsanitize=address -g -O1 test.cpp -o test


âš ï¸ libc++: LLVM í”„ë¡œì íŠ¸ì˜ ì¼ë¶€ë¡œ ë³„ë„ë¡œ ê´€ë¦¬ë˜ë©°, í¬ë¡œìŠ¤ ì»´íŒŒì¼ëŸ¬ì™€ í•¨ê»˜ ë°°í¬ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
  ... conan ì—ì„œ í¬ë¡œìŠ¤ì»´íŒŒì¼í•  ë•Œ libc++ ì§€ì •ì´ ì–´ë ¤ìš´ ì .. 
   %shell> ls /usr/aarch64-linux-gnu/lib/ | grep libc
    >>.. (libc++ ì´ ì•ˆë³´ì¸ë‹¤!.)

https://gcc.gnu.org/
  https://gcc.gnu.org/gcc-14/
    https://gcc.gnu.org/mirrors.html

    http://ftp.tsukuba.wide.ad.jp/software/gcc/
    http://ftp.tsukuba.wide.ad.jp/software/gcc/releases/gcc-14.2.0/
    wget http://ftp.tsukuba.wide.ad.jp/software/gcc/releases/gcc-14.2.0/gcc-14.2.0.tar.xz

https://stackoverflow.com/questions/78306968/installing-gcc13-and-g13-in-debian-bookworm-rust-docker-image


===========
ğŸ§® apt search libc++-dev
ğŸ§® apt search libc++-dev | grep arm

https://en.wiktionary.org/wiki/bootstrap

**ABI(Application Binary Interface)**ë€?
ì»´íŒŒì¼ëœ ë°”ì´ë„ˆë¦¬ ê°„ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤. ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” í”„ë¡œê·¸ë¨ê³¼ ê·¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ ê°„ì˜ í•¨ìˆ˜ í˜¸ì¶œ, ë°ì´í„° íƒ€ì…, ë©”ëª¨ë¦¬ êµ¬ì¡° ë“±ì„ ì •ì˜í•©ë‹ˆë‹¤.
https://forum.osdev.org/viewtopic.php?t=56165



â“ë©´ì ‘.. ğŸª± Target Triple
  5. env (í™˜ê²½/ABI)
    íƒ€ê²Ÿì˜ **ABI(Application Binary Interface)**ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
    ABIëŠ” ì†Œí”„íŠ¸ì›¨ì–´ì™€ í•˜ë“œì›¨ì–´ ê°„ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•©ë‹ˆë‹¤. ì´ ì¸í„°í˜ì´ìŠ¤ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì‚¬í•­ë“¤ì„ í¬í•¨í•©ë‹ˆë‹¤:
      - í•¨ìˆ˜ í˜¸ì¶œ ê·œì¹™ (Calling Convention)
      - ë°ì´í„° íƒ€ì… í¬ê¸°ì™€ ì •ë ¬   // ì˜ˆì‹œ: 32,64 ë¹„íŠ¸ì— ë”°ë¥¸ int, long í˜• ë°ì´í„° í¬ê¸°. aarch64-linux-gnu: ì •ë ¬ ê·œì¹™ì— ë”°ë¼ 8ë°”ì´íŠ¸ í¬ê¸°ì˜ ë°ì´í„°ëŠ” ë©”ëª¨ë¦¬ì—ì„œ 8ì˜ ë°°ìˆ˜ ì£¼ì†Œì— ìœ„ì¹˜.
      - ë¼ì´ë¸ŒëŸ¬ë¦¬ ë° ì‹œìŠ¤í…œ ì¸í„°í˜ì´ìŠ¤
        ì‹œìŠ¤í…œ í˜¸ì¶œ ë°©ì‹: ìš´ì˜ ì²´ì œì™€ í”„ë¡œê·¸ë¨ì´ ì–´ë–»ê²Œ í†µì‹ í•˜ëŠ”ì§€ë¥¼ ì •ì˜.
          ì˜ˆ: ë¦¬ëˆ…ìŠ¤ì—ì„œëŠ” syscall ëª…ë ¹ìœ¼ë¡œ ì»¤ë„ê³¼ í†µì‹ .
          íŠ¹ì • ABIì— ë”°ë¼ í˜¸ì¶œ ë²ˆí˜¸ì™€ ë§¤ê°œë³€ìˆ˜ ì „ë‹¬ ë°©ì‹ì´ ë‹¤ë¦…ë‹ˆë‹¤.
        í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ì˜ í˜¸í™˜ì„±
          ABIëŠ” í”„ë¡œê·¸ë¨ì´ í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬(glibc, libstdc++, newlib)ì™€ ì–´ë–»ê²Œ ìƒí˜¸ì‘ìš©í• ì§€ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.
          ì˜ˆ:
            aarch64-linux-gnu: ë¦¬ëˆ…ìŠ¤ í™˜ê²½ì—ì„œ glibcë¥¼ ì‚¬ìš©.
            arm-none-eabi: ì„ë² ë””ë“œ í™˜ê²½ì—ì„œ newlibë¥¼ ì‚¬ìš©.
  

  
cd socket_iot_system && cmake --build --preset conan-linux-debug-clang-19-x86_64 && file build/linux-debug-clang-19-x86_64/iot_server



set SRC_DIR src
set DST_DIR build
protoc -I=$SRC_DIR --cpp_out=$DST_DIR $SRC_DIR/addressbook.proto

ğŸ§® fd "runtime_version.h" (brew --prefix protobuf)



ë‚´ê°€ ì§€ê¸ˆ í•´ì•¼ í•˜ëŠ”ê²Œ.. iot_client, iot_server x86-64 ìš©. (protobuf ë¡œ ì»´íŒŒì¼í•œ cpp, h íŒŒì¼ ì‚¬ìš©í•´ì•¼ í•¨)
iot_client, iot_server arm64 ìš©. (protobuf ë¡œ ì»´íŒŒì¼í•œ cpp, h íŒŒì¼ ì‚¬ìš©í•´ì•¼ í•¨ (í¬ë¡œìŠ¤ì»´íŒŒì¼. ì •ì ë¹Œë“œì‚¬ìš© í•´ì•¼ í•¨. ì§€ê¸ˆ ì´ë¯¸ protobuf íŒŒì¼ ì—†ì´ ì„œë²„ í¬ë¡œìŠ¤ì»´íŒŒì¼í•˜ëŠ”ê²ƒì€ ì™„ì„±ë¨. (conan 2)))



https://protobuf.dev/support/migration/
  Build dependency - A new build dependency can always cause breakages for downstream users. We require Abseil LTS 20230117 or later to build.
    For Bazel builds, Abseil will be automatically downloaded and built at a pinned LTS release when protobuf_deps is run from your WORKSPACE. This should be transparent, but if you depend on an older version of Abseil, youâ€™ll need to upgrade your dependency.
    For CMake builds, we will first look for an existing Abseil installation pulled in by the top-level CMake configuration (see instructions). Otherwise, if protobuf_ABSL_PROVIDER is set to module (its default) we will attempt to build and link Abseil from our git submodule. If protobuf_ABSL_PROVIDER is set to package, we will look for a pre-installed system version of Abseil.
  

  sprintf : string print; ë¬¸ìì—´ì„ í¬ë§·í•˜ì—¬ ì¶œë ¥.

*íŒŒì¼ ë””ìŠ¤í¬ë¦½í„°(file descriptor, FD)**ëŠ” ìš´ì˜ì²´ì œì—ì„œ íŒŒì¼, ì†Œì¼“, í‘œì¤€ ì…ë ¥ ë“± ëª¨ë“  I/O ìì›ì„ ë‹¤ë£° ë•Œ ì‚¬ìš©í•˜ëŠ” ì •ìˆ˜ ê°’ì´ë‹¤.


â“
  NanoPBì—ì„œ ì¼ë¶€ í•„ë“œê°€ pb_callback_t íƒ€ì…(ì½œë°±)ìœ¼ë¡œ ìƒì„±ë˜ëŠ” ì´ìœ 
  NanoPBì˜ pb_callback_t íƒ€ì…ì€ ë³€ìˆ˜ ê¸¸ì´ í•„ë“œ(Variable-Length Fields)ë‚˜ repeated í•„ë“œì—ì„œ ì‚¬ìš©ë˜ëŠ”ë°, ì´ë¥¼ ì ìš©í•˜ëŠ” ì´ìœ ëŠ” ë©”ëª¨ë¦¬ë¥¼ ì ˆì•½í•˜ê³  ë™ì  í• ë‹¹ì„ í”¼í•˜ê¸° ìœ„í•´ì„œë‹¤.

  ğŸ“Œ pb_callback_tê°€ ì‚¬ìš©ë˜ëŠ” ê²½ìš°
  string íƒ€ì… í•„ë“œ
  repeated í•„ë“œ (ë°°ì—´)
  ê¸¸ì´ë¥¼ ì•Œ ìˆ˜ ì—†ëŠ” ë°ì´í„° í•„ë“œ